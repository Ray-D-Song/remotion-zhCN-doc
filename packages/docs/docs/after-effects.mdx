---
image: /generated/articles-docs-after-effects.png
id: after-effects
title: ä» After Effects å¯¼å…¥
slug: after-effects
crumb: "é›†æˆ"
---

import {InlineStep} from '../components/InlineStep';

å¦‚æœæ‚¨æ˜¯ After Effects ç”¨æˆ·ï¼Œæ‚¨å¯èƒ½ä¼šå‘ç°å°† After Effects ç»„åˆè½¬æ¢ä¸º Remotion ç»„åˆå¾ˆæœ‰ç”¨ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ [`@remotion/lottie`](/docs/lottie) åŒ…æ¥å®ç°æ­¤ç›®çš„ã€‚

:::note
Remotion ç»„åˆå¾—åäº After Effects åˆ›é€ äº†è¿™ä¸ªæœ¯è¯­ï¼
:::

### å®‰è£… Bodymovin æ’ä»¶

- ç¡®ä¿å…³é—­ After Effectsã€‚
- å‰å¾€[æ­¤ç½‘ç«™](https://aescripts.com/learn/zxp-installer/)ï¼Œä¸‹è½½é€‚ç”¨äºæ‚¨å¹³å°çš„ ZXP å®‰è£…ç¨‹åºã€‚
- ç‚¹å‡»[è¿™é‡Œ](https://github.com/airbnb/lottie-web/blob/master/build/extension/bodymovin.zxp?raw=true)ä¸‹è½½æœ€æ–°çš„ Bodymovin æ’ä»¶ã€‚
- æ‰“å¼€ ZXP å®‰è£…ç¨‹åºï¼Œå°† bodymovin æ–‡ä»¶æ‹–å…¥å…¶ä¸­ã€‚

### åˆ›å»ºç»„åˆ

æ‰“å¼€ After Effects å¹¶åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›®ï¼Œç„¶åç‚¹å‡» `æ–°å»ºç»„åˆ`ã€‚

<img src="/img/lottie/new-composition.png"/>

### åˆ›å»ºåŠ¨ç”»

åœ¨ After Effects ä¸­è®¾è®¡æ‚¨çš„åŠ¨ç”»ã€‚åœ¨è¿™ä¸ªåŸºæœ¬ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨åœ†è§’çŸ©å½¢å·¥å…·ç»˜åˆ¶äº†ä¸€ä¸ªè“è‰²çš„åœ†è§’æ­£æ–¹å½¢ï¼Œç„¶åæ‰“å¼€å˜æ¢èœå•ï¼Œç‚¹å‡»è¡¨è¾¾å¼å›¾æ ‡ä¸ºä½ç½®å’Œæ—‹è½¬è®¾ç½®å…³é”®å¸§ï¼Œä»¥åˆ›å»ºä¸€ä¸ªç®€å•çš„å…¥åœºæ•ˆæœã€‚

<img src="/img/lottie/animation.png"/>

### å…è®¸å¯¼å‡ºä¸º JSON

åœ¨ After Effects èœå•ä¸­ï¼Œè½¬åˆ° `é¦–é€‰é¡¹ -> è„šæœ¬å’Œè¡¨è¾¾å¼...`ã€‚å¯ç”¨ç¬¬ä¸€ä¸ªé€‰é¡¹ï¼š`å…è®¸è„šæœ¬å†™å…¥æ–‡ä»¶å’Œè®¿é—®ç½‘ç»œ`ã€‚æ‚¨åªéœ€è¦æ‰§è¡Œä¸€æ¬¡æ­¤æ“ä½œã€‚

<img src="/img/lottie/scripting.png"/>

### æ‰“å¼€ Bodymovin æ’ä»¶

åœ¨ After Effects èœå•ä¸­ï¼Œè½¬åˆ° `çª—å£ -> æ‰©å±• -> Bodymovin`ã€‚

<img src="/img/lottie/bodymovin.png"/>

### å°†åŠ¨ç”»å¯¼å‡ºä¸º JSON

é¦–å…ˆé€‰æ‹©ç»„åˆ <InlineStep>1</InlineStep>ã€‚ç„¶åæŒ‰å¯¼å‡ºå›¾æ ‡ <InlineStep>2</InlineStep>ã€‚ç³»ç»Ÿä¼šæç¤ºæ‚¨é€‰æ‹©ä¿å­˜ JSON æ–‡ä»¶çš„ä½ç½®ã€‚
ç‚¹å‡»æ¸²æŸ“ <InlineStep>3</InlineStep> ä»¥å†™å…¥æ–‡ä»¶ã€‚
<img src="/img/lottie/bodymovin-tutorial.png"/>


### å°†æ–‡ä»¶å¯¼å…¥åˆ° Remotion

å°†æ–‡ä»¶å¤åˆ¶åˆ° Remotion é¡¹ç›®ä¸­ã€‚æ¨èçš„æ–¹æ³•æ˜¯å°† JSON æ”¾åœ¨ Remotion çš„ `public/` æ–‡ä»¶å¤¹ä¸­ï¼ˆå¦‚æœ‰å¿…è¦ï¼Œè¯·åˆ›å»ºè¯¥æ–‡ä»¶å¤¹ï¼‰ï¼Œç„¶åä½¿ç”¨ [`staticFile()`](/docs/staticfile) è¿›è¡ŒåŠ è½½ï¼š

```tsx twoslash title="Animation.tsx"
import { Lottie, LottieAnimationData } from "@remotion/lottie";
import { useEffect, useState } from "react";
import {
  cancelRender,
  continueRender,
  delayRender,
  staticFile,
} from "remotion";

const Balloons = () => {
  const [handle] = useState(() => delayRender("Loading Lottie animation"));

  const [animationData, setAnimationData] =
    useState<LottieAnimationData | null>(null);

  useEffect(() => {
    fetch(staticFile("animation.json"))
      .then((data) => data.json())
      .then((json) => {
        setAnimationData(json);
        continueRender(handle);
      })
      .catch((err) => {
        cancelRender(err);
        console.log("Animation failed to load", err);
      });
  }, [handle]);

  if (!animationData) {
    return null;
  }

  return <Lottie animationData={animationData} />;
};
```

## è°ƒæ•´

å»ºè®®å°†æ‚¨çš„åˆæˆç‰©[å¤§å°å’ŒæŒç»­æ—¶é—´](/docs/lottie/getlottiemetadata)ä¸ After Effects ä¸­çš„åŸå§‹åˆæˆç‰©ç›¸åŒã€‚æ­å–œï¼Œæ‚¨æ­£åœ¨åœ¨ Remotion ä¸­æ’­æ”¾ After Effects åŠ¨ç”»ï¼ğŸ‰

<img src="/img/lottie/result.gif"/>

## å‚è§

- [ä½¿ç”¨ LottieFiles](/docs/lottie/lottiefiles)
- [`getLottieMetadata()`](/docs/lottie/getlottiemetadata)

