---
image: /generated/articles-docs-install-whisper-cpp-install-whisper-cpp.png
slug: install-whisper-cpp
title: installWhisperCpp()
crumb: "@remotion/install-whisper-cpp"
---

# installWhisperCpp()<AvailableFrom v="4.0.115"/>

将 Whisper.cpp 版本安装到文件夹中。

```tsx twoslash title="install-whisper.mjs"
// @module: esnext
// @target: es2022
import path from "path";
import { installWhisperCpp } from "@remotion/install-whisper-cpp";

const { alreadyExisted } = await installWhisperCpp({
  to: path.join(process.cwd(), "whisper.cpp"),
  version: "1.5.5", // A Whisper.cpp semver or git tag
});
```

在 Windows 上，如果提供的版本不是语义版本格式（例如 `1.5.4`），安装将抛出错误。该函数期望有一个可供下载的预编译语义版本发布。

在其他平台上，源代码将从 GitHub 克隆并构建。

如果将 Whisper.cpp 安装到一个位于 Git 存储库中的文件夹中，您应该将该文件夹添加到 `.gitignore` 文件中。

如果输出文件夹已经存在，则该函数将不执行任何操作并返回 `{ alreadyExisted: true }`。

您还需要下载一个 Whisper.cpp 模型才能使 Whisper.cpp 正常工作。您可以使用 [`downloadWhisperModel()`](/docs/install-whisper-cpp/download-whisper-model) 函数来完成此操作。

## 选项

### `to`

要将 Whisper.cpp 安装到的文件夹。

### `version`

要安装的 Whisper.cpp 版本。不要包含 `v` 前缀。
这可以是 Whisper.cpp 提交的哈希值，也可以是官方发布的语义版本。

:::info
在 Windows 上，目前仅支持 Whisper.cpp 的发布标签（例如 `1.5.4`）。
:::

### `printOutput?`

是否将安装过程的输出打印到控制台。默认为 `true`。

### `signal?`<AvailableFrom v="4.0.156" />

来自 [`AbortController`](https://developer.mozilla.org/en-US/docs/Web/API/AbortController) 的信号，用于取消安装过程。

## 返回值

返回一个解析为具有以下属性的对象的 `Promise`：

### `alreadyExisted`

文件夹是否已经存在。如果存在，并且包含必要的可执行文件，则函数不会执行任何安装操作并返回 `true`。如果现有文件夹中缺少可执行文件，则函数期望在尝试另一个安装之前手动删除该文件夹。

## 参考资料

- [此函数的源代码](https://github.com/remotion-dev/remotion/blob/main/packages/install-whisper-cpp/src/install-whisper-cpp.ts)
- [`@remotion/install-whisper-cpp`](/docs/install-whisper-cpp)
- [`downloadWhisperModel()`](/docs/install-whisper-cpp/download-whisper-model)
