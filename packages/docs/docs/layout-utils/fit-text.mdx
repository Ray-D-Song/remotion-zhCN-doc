---
image: /generated/articles-docs-layout-utils-fit-text.png
title: fitText()
crumb: "@remotion/layout-utils"
---

_属于 [`@remotion/layout-utils`](/docs/layout-utils) 包。从 v4.0.88 版本开始可用_

计算适合给定宽度的文本所需的 `font-size`。

```tsx twoslash title="FitText.tsx"
import { fitText } from "@remotion/layout-utils";

const text = "Hello World";
const width = 100;
const fontFamily = "Arial";
const fontWeight = "bold";

const { fontSize } = fitText({
  text,
  withinWidth: width,
  fontFamily: fontFamily,
  fontWeight: fontWeight,
  textTransform: "uppercase",
});

// Example markup:
<div
  style={{
    fontSize,
    width,
    fontFamily,
    fontWeight,
    textTransform: "uppercase",
  }}
>
  {text}
</div>;
```

## API

接受具有以下属性的对象：

### `text`

_string_

要适应的文本。

### `withinWidth`

_number_

要适应文本的宽度。

:::info
在默认的 Remotion 样式表中，由于 `box-sizing: border-box`，边框会使容器收缩。  
减去任何边框，或者使用 `outline` 而不是 `border`。
:::

### `fontFamily`

_string_

您将分配给文本的 `font-family` CSS 属性。

:::info
在调用此 API 之前，需要加载字体。  
如果您使用 [`@remotion/google-fonts`](/docs/google-fonts)，请等到 [`waitUntilDone()`](/docs/google-fonts/load-font#waituntildone) 解析完成。
:::

### `fontWeight`

_string | number, optional_

如果要为文本分配 `font-weight` CSS 属性，则传递此选项。

### `letterSpacing`

_string, optional_

如果要为文本分配 `letter-spacing` CSS 属性，则传递此选项。

### `fontVariantNumeric`

_string, optional_

如果要为文本分配 `font-variant-numeric` CSS 属性，则传递此选项。

### `textTransform`<AvailableFrom v="4.0.140"/>

_string_

与 CSS 样式 `text-transform` 相同。

### `validateFontIsLoaded?`<AvailableFrom v="4.0.136"/>

_boolean_

如果设置为 `true`，将使用回退字体进行第二次测量，如果产生相同的测量结果，则假定使用了回退字体，并将抛出错误。

### `additionalStyles`<AvailableFrom v="4.0.140"/>

_object, optional_

影响文本布局的其他 CSS 属性。

## 返回值

一个具有以像素为单位的 `fontSize` 的对象。将其分配给文本元素的 `style` 属性。

## 示例

```tsx twoslash
import { fitText } from "@remotion/layout-utils";
import React from "react";
import { AbsoluteFill } from "remotion";

const boxWidth = 600;
// Must be loaded before calling fitText()
const fontFamily = "Helvetica";
const fontWeight = "bold";

export const FitText: React.FC<{ text: string }> = ({ text }) => {
  const fontSize = Math.min(
    80,
    fitText({
      fontFamily,
      text,
      withinWidth: boxWidth,
      fontWeight,
    }).fontSize,
  );

  return (
    <AbsoluteFill
      style={{
        justifyContent: "center",
        alignItems: "center",
        backgroundColor: "white",
      }}
    >
      <div
        style={{
          width: boxWidth,
          outline: "1px dashed rgba(0, 0, 0, 0.5)",
          height: 100,
          fontSize,
          fontWeight,
          fontFamily,
          display: "flex",
          alignItems: "center",
        }}
      >
        {text}
      </div>
    </AbsoluteFill>
  );
};
```

Notes:

- 为防止文本过大，指定了最大字体大小为 `80`。
- 将 `fontFamily` 和 `fontWeight` 传递给 `div` 元素，以确保文本使用与 `fitText()` 使用的相同字体相同。
- 使用 `outline` CSS 属性而不是 `border`。  
  这是因为在 Remotion 中，默认情况下边框在内部，并且由于默认样式表中存在 `box-sizing: border-box`，边框会使容器收缩。

## 重要考虑事项

请查看[最佳实践](/docs/layout-utils/best-practices)以确保您获得正确的测量值。

## 另请参阅

- [此函数的源代码](https://github.com/remotion-dev/remotion/blob/main/packages/layout-utils/src/layouts/fit-text.ts)
- [`@remotion/layout-utils`](/docs/layout-utils)
- [`@remotion/google-fonts`](/docs/google-fonts)
