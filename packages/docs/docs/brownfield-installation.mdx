---
image: /generated/articles-docs-brownfield-installation.png
id: brownfield
title: 在现有项目中安装 Remotion
sidebar_label: 在现有项目中安装
crumb: 'Brownfield 集成'
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

Remotion 可以安装到现有项目中，比如 [Next.JS](https://nextjs.org/)、[Remix](https://remix.run/)、[Vite](https://vitejs.dev/guide/) 或 [Create React App](https://create-react-app.dev/)，以及仅在 Node.JS 上运行的服务器项目。通过添加以下包来开始：

<Installation pkg="remotion @remotion/cli" />

- 如果您想在现有的 React 应用中嵌入 Remotion 视频，请安装 [`@remotion/player`](/docs/player/installation)。
- 如果您想使用 Node.JS API 渲染视频，请同时安装 [`@remotion/renderer`](/docs/renderer)。
- 如果您想在 Remotion Lambda 上触发渲染，请同时安装 [`@remotion/lambda`](/docs/lambda/setup)。

## 设置文件夹结构

为 Remotion 文件创建一个新文件夹。它可以放在任何地方，取任何名字，在这个示例中我们将其命名为 `remotion` 并放在项目的根目录下。在您创建的文件夹内，创建 3 个文件：

```tsx twoslash title="remotion/Composition.tsx"
export const MyComposition = () => {
  return null;
};
```

```tsx twoslash title="remotion/Root.tsx"
// @filename: Composition.tsx
export const MyComposition: React.FC = () => {
  return null;
};
// @filename: Root.tsx
// ---cut---
import React from 'react';
import {Composition} from 'remotion';
import {MyComposition} from './Composition';

export const RemotionRoot: React.FC = () => {
  return (
    <>
      <Composition
        id="Empty"
        component={MyComposition}
        durationInFrames={60}
        fps={30}
        width={1280}
        height={720}
      />
    </>
  );
};
```

```ts twoslash title="remotion/index.ts"
// @filename: Composition.tsx
export const MyComposition: React.FC = () => {
  return null;
};
// @filename: Root.tsx
import React from "react";
import { Composition } from "remotion";
import { MyComposition } from "./Composition";

export const RemotionRoot: React.FC = () => {
  return (
    <>
      <Composition
        id="MyComp"
        component={MyComposition}
        durationInFrames={60}
        fps={30}
        width={1280}
        height={720}
      />
    </>
  );
};
// @filename: index.ts
// ---cut---
import { registerRoot } from "remotion";
import { RemotionRoot } from "./Root";

registerRoot(RemotionRoot);
```

调用 [`registerRoot()`](/docs/register-root) 的文件现在是您的 Remotion [**入口点**](/docs/terminology/entry-point)。

:::note
注意在您的 `tsconfig.json` 中的导入别名，将 `import {...} from "remotion"` 解析为 `remotion` 文件夹。我们建议不要使用没有前缀的 `paths`。
:::

## 启动 Studio

使用以下命令启动 Remotion Studio：

```
npx remotion studio remotion/index.ts
```

如有必要，请将 `remotion/index.ts` 替换为您的入口点。

## 渲染视频

渲染视频

```
npx remotion render remotion/index.ts MyComp out.mp4
```

替换入口点、组合名称和输出文件名为与您的用例相对应的值。

## 安装 ESLint 插件

Remotion 有一个 ESLint 插件，用于警告有关 Remotion API 不当使用的情况。要将其添加到现有项目中，请安装它：

<Tabs
defaultValue="npm"
values={[
{ label: 'npm', value: 'npm', },
{ label: 'yarn', value: 'yarn', },
{ label: 'pnpm', value: 'pnpm', },
]
}>
<TabItem value="npm">

```bash
npm i @remotion/eslint-plugin
```

  </TabItem>

  <TabItem value="yarn">

```bash
yarn add @remotion/eslint-plugin
```

  </TabItem>

  <TabItem value="pnpm">

```bash
pnpm i @remotion/eslint-plugin
```

  </TabItem>
</Tabs>

此代码片段将仅为 Remotion 文件启用推荐规则：

```json title=".eslintrc"
{
  "plugins": ["@remotion"],
  "overrides": [
    {
      "files": ["remotion/*.{ts,tsx}"],
      "extends": ["plugin:@remotion/recommended"]
    }
  ]
}
```

## 在 React 应用中嵌入 Remotion 视频

您可以使用 `<Player>` 组件在 React 项目中显示 Remotion 视频。阅读有关此操作的[单独页面](/docs/player/integration)获取说明。
