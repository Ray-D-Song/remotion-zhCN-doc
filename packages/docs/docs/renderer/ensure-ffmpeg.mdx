---
image: /generated/articles-docs-renderer-ensure-ffmpeg.png
id: ensure-ffmpeg
title: ensureFfmpeg()
crumb: "@remotion/renderer"
---

_从 v3.3 开始可用，从 v4.0 中移除_

:::warning
此 API 已在 v4.0 中移除，不再需要调用。此页面仅用于存档目的。
:::

检查 `ffmpeg` 二进制文件是否已安装，如果没有安装，[将其下载并放入您的 `node_modules` 文件夹](/docs/ffmpeg) 中。

```ts title="ensure.mjs"
import { ensureFfmpeg } from "@remotion/renderer";

await ensureFfmpeg();
```

您可能不需要调用此函数。如果尝试渲染且未找到二进制文件，则 Remotion 将自动下载 `ffmpeg`。

如果需要在第一次渲染开始之前准备好 FFmpeg，则此函数很有用。

还要调用 [`ensureFfprobe()`](/docs/renderer/ensure-ffprobe) 以获取 Remotion 需要的两个二进制文件。

## 选项

可选地，您可以传递一个对象并传递以下选项：

### `remotionRoot`

_string_

您的 `node_modules` 所在的目录。

## 返回值

一个解析为具有以下属性的对象的 Promise：

- `wasAlreadyInstalled`：布尔值，指示是否因为此函数调用而下载了二进制文件。
- `result`：一个字符串，可以是 `found-in-path`、`found-in-node-modules` 或 `installed`。

## 异常

如果未找到二进制文件、下载失败或您的平台没有可用的二进制文件，则此函数会抛出异常。

## 另请参阅

- CLI 等效命令：[`npx remotion install ffmpeg`](/docs/cli/install)
- [`ensureFfprobe()`](/docs/renderer/ensure-ffprobe)
- [安装 FFmpeg](/docs/ffmpeg)

