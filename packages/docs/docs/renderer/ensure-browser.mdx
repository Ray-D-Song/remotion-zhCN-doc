---
image: /generated/articles-docs-renderer-ensure-browser.png
title: ensureBrowser()
id: ensure-browser
crumb: "@remotion/renderer"
---

# ensureBrowser()<AvailableFrom v="4.0.137" />

确保本地安装了浏览器，以便执行 Remotion 渲染。

```tsx twoslash title="Simple usage"
// @module: ESNext
// @target: ESNext
import { ensureBrowser } from "@remotion/renderer";

await ensureBrowser();
```

```tsx twoslash title="Setting a specific Chrome version and listening to progress"
// @module: ESNext
// @target: ESNext
import { ensureBrowser } from "@remotion/renderer";

await ensureBrowser({
  onBrowserDownload: () => {
    console.log("Downloading browser");

    return {
      version: "123.0.6312.86",
      onProgress: ({ percent }) => {
        console.log(`${Math.round(percent * 100)}% downloaded`);
      },
    };
  },
});
```

## API

一个具有以下属性的对象，所有属性都是可选的：

### `browserExecutable`

传递一个浏览器可执行文件的路径，您希望使用该文件而不是下载。  
如果路径不存在，此函数将抛出异常。  
将相同的路径传递给支持 `browserExecutable` 选项的任何其他 API。

### `logLevel`

<Options id="log" />

### `onBrowserDownload`

指定应使用的特定 Chrome 版本，并钩入下载进度。  
请参见下面的示例以了解函数签名。

```tsx twoslash title="init.ts"
// @module: ESNext
// @target: ESNext
import {
  ensureBrowser,
  OnBrowserDownload,
  DownloadBrowserProgressFn,
} from "@remotion/renderer";

const onProgress: DownloadBrowserProgressFn = ({
  percent,
  downloadedBytes,
  totalSizeInBytes,
}) => {
  console.log(`${Math.round(percent * 100)}% downloaded`);
};

const onBrowserDownload: OnBrowserDownload = () => {
  console.log("Downloading browser");

  return {
    // Pass `null` to use Remotion's recommendation.
    version: "123.0.6312.86",
    onProgress,
  };
};

await ensureBrowser({
  onBrowserDownload,
});
```

## 返回值

一个没有值的 Promise。

## 参见

- [此函数的源代码](https://github.com/remotion-dev/remotion/blob/main/packages/renderer/src/ensure-browser.ts)
- [Chrome 无头浏览器](/docs/miscellaneous/chrome-headless-shell)
- [服务器端渲染](/docs/ssr)

