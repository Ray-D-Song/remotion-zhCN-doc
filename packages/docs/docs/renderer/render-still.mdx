---
image: /generated/articles-docs-renderer-render-still.png
id: render-still
title: renderStill()
crumb: '@remotion/renderer'
---

_`@remotion/renderer` 包的一部分。从 v2.3 版本开始可用。_

将单个帧渲染为图像并将其写入指定的输出位置。

如果要渲染视频，请改用 [renderMedia()](/docs/renderer/render-media)。

## 示例用法

首先需要打包项目并获取合成。阅读[网站上有关服务器端渲染的代码片段](/docs/ssr)以了解如何生成 `bundleLocation` 和 `composition` 变量的示例。

```ts twoslash
// @module: ESNext
// @target: ESNext
import {bundle} from '@remotion/bundler';
import {getCompositions, renderStill} from '@remotion/renderer';

// The composition you want to render
const compositionId = 'HelloWorld';

const bundleLocation = await bundle({
  entryPoint: require.resolve('./src/index.ts'),
});

const comps = await getCompositions(bundleLocation, {
  inputProps: {
    custom: 'data',
  },
});
const composition = comps.find((c) => c.id === compositionId);

if (!composition) {
  throw new Error(`No composition with the ID ${compositionId} found`);
}

// ---cut---

await renderStill({
  composition,
  serveUrl: bundleLocation,
  output: '/tmp/still.png',
  inputProps: {
    custom: 'data',
  },
});
```

## 参数

接受具有���下属性的对象：

### `composition`

_VideoConfig_

描述使用 `id`、`width`、`height`、`fps`、`durationInFrames`、`defaultProps` 和 `props` 的合成的对象。  
调用 [`selectComposition()`](/docs/renderer/select-composition) 或 [`getCompositions()`](/docs/renderer/get-compositions) 来获取可能配置的数组。

### `serveUrl`

要么是指向由 [`bundle()`](/docs/bundle) 生成的 Remotion Webpack bundle 的本地路径，要么是捆绑包托管的 URL。

### `port?`

首选用于提供 Remotion 项目的特定端口。如果未指定，将使用随机端口。

### `output`

帧应该渲染到的绝对路径。

### `inputProps?`

_可选_

[传递给视频所选合成的输入属性。](/docs/passing-props#passing-input-props-in-the-cli)。  
必须是 JSON 对象。  
从根组件中，可以使用 [`getInputProps()`](/docs/get-input-props) 读取属性。  
您可以使用 [`calculateMetadata()`](/docs/calculate-metadata) 转换输入属性。

### `frame?`

_可选 - 默认值: 0_

应该基于其编号渲染哪个帧。帧是从零开始索引的。

从 v3.2.27 版本开始，允许负值，其中 `-1` 是最后一帧。

### `imageFormat?`

_可选 - 默认值: "png"_

图像应该具有的输出格式，可以是 `png`、`jpeg`、`webp` 或 `pdf`。

### `scale?`

_可选_

通过因子缩放输出尺寸。查看[Scaling](/docs/scaling)以了解更多关于此功能的信息。

### `jpegQuality?`

_可选 - 默认值：`undefined`_

设置 JPEG 质量 - 必须是介于 0 和 100 之间的整数，只能在 `imageFormat` 设置为 `jpeg` 时传递。

### `puppeteerInstance?`

_可选 - 默认值 `null`_

一个已经打开的 Puppeteer [`Browser`](/docs/renderer/open-browser) 实例。在多个函数调用之间重用浏览器可以加快渲染过程。您负责自行打开和关闭浏览器。如果不指定此选项，将在最后打开并关闭一个新的浏览器。

### `envVariables?`

_可选 - 默认值 `{}`_

一个包含环境变量键值对的对象，这些变量将被注入到您的 Remotion 项目中，并且可以通过读取全局 `process.env` 对象来访问。

### `logLevel?`<AvailableFrom v="4.0.115"/>

<Options id="log" />

### `onArtifact?`<AvailableFrom v="4.0.176" />

处理由 [`<Artifact>`](/docs/artifact) 组件发出的[工件](/docs/artifacts#using-rendermedia-renderstill-or-renderframes)。

### `overwrite?`

_可选 - 默认值 `true`_

如果输出已经存在，是否应覆盖文件。

### `browserExecutable?`<AvailableFrom v="2.3.1" />

_可选_

定义应使用的浏览器可执行文件在磁盘上的绝对路径的字符串。默认情况下，Remotion 将尝试自动检测并下载一个可执行文件。

### `onBrowserLog?`<AvailableFrom v="3.3.93" />

_可选_

当您的项目调用 `console.log` 或控制台的另一个方法时调用。有关更多信息，请参阅[`renderFrames`](/docs/renderer/render-frames#onbrowserlog)的文档。

### `timeoutInMilliseconds?`<AvailableFrom v="2.6.3" />

_可选_

描述渲染可能需要多长时间来解析所有 [`delayRender()`](/docs/delay-render) 调用[在超时之前](/docs/timeout)。默认值：`30000`

### `cancelSignal?`<AvailableFrom v="3.0.15" />

### `_optional_`

一个允许取消渲染的令牌。查看：[`makeCancelSignal()`](/docs/renderer/make-cancel-signal)

### `chromiumOptions?` <AvailableFrom v="2.6.5" />

_optional_

允许您设置某些 Chromium / Google Chrome 标志。查看：[Chromium flags](/docs/chromium-flags).

:::note
需要在浏览器启动时设置 Chromium 标志。如果您使用 [`puppeteerInstance`](#puppeteerinstance) 传递一个实例，则传递给 `renderStill()` 的选项将不适用，而是传递给 [`openBrowser()`](/docs/renderer/open-browser) 的标志。
:::

#### `disableWebSecurity`

_boolean - 默认值 `false`_

这将主要禁用 CORS 和其他安全功能。

#### `enableMultiProcessOnLinux?` <AvailableFrom v="4.0.42" />

<Options id="enable-multiprocess-on-linux" />

#### `ignoreCertificateErrors?`

_boolean - 默认值 `false`_

导致无效的 SSL 证书（如自签名证书）被忽略。

#### `headless?`

<Options id="disable-headless" />

#### `gl`

<Options id="gl" />

#### `userAgent` <AvailableFrom v="3.3.83"/>

允许您设置 headless Chrome 浏览器所使用的自定义用户代理。

### `offthreadVideoCacheSizeInBytes?` <AvailableFrom v="4.0.23"/>

<Options id="offthreadvideo-cache-size-in-bytes" />

### `binariesDirectory?` <AvailableFrom v="4.0.120" />

<Options id="binaries-directory" />

### `onBrowserDownload?` <AvailableFrom v="4.0.137" />

<Options id="on-browser-download" />

### ~~`dumpBrowserLogs?`~~

_optional - 默认值 `false`，在 v4.0 中已弃用_

已弃用，建议使用 [`logLevel`](#loglevel)。

### ~~`quality?`~~

在 `v4.0.0` 中更名为 `jpegQuality`。

## 返回值

返回值是一个解析为具有以下键的对象的 Promise：

- `buffer`: (_从 v3.3.9 开始可用_) 一个 `Buffer`，仅在未提供 `output` 选项时存在。否则为 null。

## 参见

- [此函数的源代码](https://github.com/remotion-dev/remotion/blob/main/packages/renderer/src/render-still.ts)
- [bundle()](/docs/bundle)
- [服务器端渲染](/docs/ssr)
- [getCompositions()](/docs/renderer/get-compositions)
- [renderMedia()](/docs/renderer/render-media)
- [renderStillOnLambda()](/docs/lambda/renderstillonlambda)

I'm ready to translate the Markdown content into Chinese. Please go ahead and paste the content for translation.
