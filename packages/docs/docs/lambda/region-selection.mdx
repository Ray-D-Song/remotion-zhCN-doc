---
image: /generated/articles-docs-lambda-region-selection.png
id: region-selection
title: 区域选择
slug: /lambda/region-selection
crumb: "Lambda"
---

import {LambdaRegionList} from '../../components/lambda/regions.tsx';

在使用 Remotion Lambda 之前，您需要考虑将函数和存储桶部署到哪个 AWS 区域。

本文档解释了如何选择区域以及需要考虑的因素。

## 可用区域

以下 AWS 区域可用：

<LambdaRegionList />

您可以调用 [`getRegions()`](/docs/lambda/getregions) 或键入 [`npx remotion lambda regions`](/docs/lambda/cli/regions) 以编程方式获取此列表。

:::note
在 v3.3.7 中添加了对区域 `eu-west-3`、`eu-south-1`、`eu-north-1`、`us-west-1`、`af-south-1`、`ap-east-1`、`ap-northeast-2`、`ap-northeast-3`、`ca-central-1`、`me-south-1`、`sa-east-1` 的支持。
:::

## 默认区域

默认区域为 `us-east-1`。

## 选择区域

有 3 种选择区域的方式：

- 在使用 Node.JS API 时，您必须显式地将区域传递给每个函数。确保您的项目满足 TypeScript 类型或遵循文档。

- 在使用 CLI 时，您可以使用 `REMOTION_AWS_REGION` 环境变量设置区域。最好将其放在 `.env` 文件中，以免有时会忘记。

:::info
该变量称为 `REMOTION_AWS_REGION`，因为在像 Vercel 这样的云提供商中，`AWS_REGION` 是一个保留的环境变量名称。但是，如果您在本地使用它，Remotion 也接受后者。
:::

- 您还可以将 `--region` 标志传递给所有 CLI 命令以覆盖区域。该标志优先于环境变量。

:::info
当使用 Node.JS API 时，`REMOTION_AWS_REGION` 环境变量和 `--region` 标志不起作用。您需要显式传递区域。
:::

如果您没有设置区域，Remotion 将使用默认区域。

## 我应该选择哪个区域？

不同的区域有不同的定价。使用以下表格来了解定价差异。

数据可能已过时，请查阅[**AWS Lambda Pricing page**](https://aws.amazon.com/lambda/pricing/)获取最新信息。

| Region         | 每GB秒价格           |
| -------------- | ------------------- |
| ap-east-1      | 0.0000183000        |
| af-south-1     | 0.0000176800        |
| me-south-1     | 0.0000165334        |
| eu-south-1     | 0.0000156138        |
| ap-south-1     | 0.0000133334        |
| ap-northeast-3 | 0.0000133334        |
| ap-northeast-2 | 0.0000133334        |
| ap-southeast-1 | 0.0000133334        |
| ap-southeast-2 | 0.0000133334        |
| ap-northeast-1 | 0.0000133334        |
| ca-central-1   | 0.0000133334        |
| eu-central-1   | 0.0000133334        |
| eu-west-1      | 0.0000133334        |
| eu-west-2      | 0.0000133334        |
| eu-west-3      | 0.0000133334        |
| eu-north-1     | 0.0000133334        |
| sa-east-1      | 0.0000133334        |
| us-east-1      | 0.0000133334        |
| us-east-2      | 0.0000133334        |
| us-west-1      | 0.0000133334        |
| us-west-2      | 0.0000133334        |

此前，本节提到了各地区可同时运行的 Lambda 数量的差异。这不再适用。

## 在 AWS 控制台中启用地区

Remotion 支持的一些地区在 AWS 帐户中默认未启用。如果收到以下消息：

```
请求中包含的安全令牌无效
```

请参见[此处]

## 其他考虑事项

- 函数和 S3 存储桶必须位于同一地区，以消除数据中心之间的延迟。不支持使用具有不匹配地区的函数和存储桶进行渲染

- 您可以将整个架构部署到不同的地区，以进一步增加可以同时进行的渲染数量。这样做的优势是更高的冗余性，但可能的缺点是可能会触发非热函数。

- 一些地区比其他地区更昂贵（例如 `af-south-1`）。
  请参阅来自 AWS 的[**Lambda Pricing page**](https://aws.amazon.com/lambda/pricing/)。

- 一些区域[默认情况下被禁用](https://docs.aws.amazon.com/general/latest/gr/rande-manage.html)，您需要在您的AWS账户中启用它们才能使用。
