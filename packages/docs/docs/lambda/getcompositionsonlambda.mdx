---
image: /generated/articles-docs-lambda-getcompositionsonlambda.png
id: getcompositionsonlambda
title: getCompositionsOnLambda()
slug: /lambda/getcompositionsonlambda
crumb: "Lambda API"
---

_从 v3.3.2 开始可用_

获取 Lambda 函数内的组合。

请注意，您还可以使用 [`getCompositions()`](/docs/renderer/get-compositions) 获取托管在 Lambda 上的站点的组合。反之亦然，您还可以使用 `getCompositionsOnLambda()` 从未托管在 AWS Lambda 上的服务 URL 获取组合。

如果机器无法运行 Chrome，则应使用 `getCompositionsOnLambda()`，而无法使用 [`getCompositions()`](/docs/renderer/get-compositions)。

## 示例

```tsx twoslash
// @module: esnext
// @target: es2017
import { getCompositionsOnLambda } from "@remotion/lambda/client";

const compositions = await getCompositionsOnLambda({
  region: "us-east-1",
  functionName: "remotion-render-bds9aab",
  serveUrl:
    "https://remotionlambda-qg35eyp1s1.s3.eu-central-1.amazonaws.com/sites/bf2jrbfkw",
  inputProps: {},
});

console.log(compositions); // See below for an example value
```

:::note
最好从 `@remotion/lambda/client` 导入此函数，以避免在[无服务器函数](/docs/lambda/light-client)中出现问题。
:::

## 参数

具有以下属性的对象：

### `functionName`

应用于获取组合列表的部署 Lambda 函数的名称。
使用 [`deployFunction()`](/docs/lambda/deployfunction) 创建新函数，并使用 [`getFunctions()`](/docs/lambda/getfunctions) 获取当前部署的 Lambdas。

### `region`

Lambda 函数部署的区域。

### `serveUrl`

指向 Remotion 项目的 URL。使用 [`deploySite()`](/docs/lambda/deploysite) 部署 Remotion 项目。

### `inputProps`

[传递给视频所选组合的输入属性。](/docs/passing-props#passing-input-props-in-the-cli)  
必须是 JSON 对象。  
可以使用 [`getInputProps()`](/docs/get-input-props) 从根组件读取属性。  
您可以使用 [`calculateMetadata()`](/docs/calculate-metadata) 转换输入属性。

### `envVariables?`

_可选 - 默认值 `{}`_

参见 [`renderMedia() -> envVariables`](/docs/renderer/render-media#envvariables)。

### `timeoutInMilliseconds?`

描述函数在多少毫秒内评估组合列表[超时之前](/docs/timeout)的数字。默认值：`30000`

### `chromiumOptions?`

允许您设置某些 Chromium / Google Chrome 标志。请参见：[Chromium flags](/docs/chromium-flags).

#### `disableWebSecurity`

_boolean - 默认 `false`_

这将主要禁用 CORS 和其他安全功能。

#### `ignoreCertificateErrors`

_boolean - 默认 `false`_

导致无效的 SSL 证书（如自签名证书）被忽略。

#### `gl`

<Options id="gl"  />

#### `userAgent`<AvailableFrom v="3.3.83"/>

允许您设置头less Chrome 浏览器所假定的自定义用户代理。

### `forceBucketName?`

_从 v3.3.42 开始可用_

指定要使用的特定存储桶名称。[不建议这样做](/docs/lambda/multiple-buckets)，而是让 Remotion 自动发现正确的存储桶。

### `logLevel?`

<Options id="log"/>

可以通过此函数返回的 CloudWatch URL 读取日志。

### `offthreadVideoCacheSizeInBytes?`<AvailableFrom v="4.0.23"/>

<Options id="offthreadvideo-cache-size-in-bytes" />

### ~~`dumpBrowserLogs?`~~

_可选 - 默认 `false`，在 v4.0 中已弃用_

已弃用，推荐使用 [`logLevel`](#loglevel)。

## 返回值

返回一个解析为可用组合数组的 Promise。示例值：

```ts twoslash
[
  {
    id: "HelloWorld",
    width: 1920,
    height: 1080,
    fps: 30,
    durationInFrames: 120,
    defaultProps: {
      title: "Hello World",
    },
  },
  {
    id: "Title",
    width: 1080,
    height: 1080,
    fps: 30,
    durationInFrames: 90,
    defaultProps: undefined,
  },
];
```

- [此函数的源代码](https://github.com/remotion-dev/remotion/blob/main/packages/lambda/src/api/get-compositions-on-lambda.ts)
- [getCompositions()](/docs/renderer/get-compositions)
