---
image: /generated/articles-docs-lambda-downloadmedia.png
id: downloadmedia
title: downloadMedia()
slug: /lambda/downloadmedia
crumb: "Lambda API"
---

从调用此 API 的机器上的磁盘下载渲染的视频、音频或静态图像。

如果您想让用户将结果下载到他们的机器上，请改用[`renderMediaOnLambda()` -> `downloadBehavior`](/docs/lambda/rendermediaonlambda#downloadbehavior)。

```ts twoslash
// @module: ESNext
// @target: ESNext
import { downloadMedia } from "@remotion/lambda";

const { outputPath, sizeInBytes } = await downloadMedia({
  bucketName: "remotionlambda-r42fs9fk",
  region: "us-east-1",
  renderId: "8hfxlw",
  outPath: "out.mp4",
  onProgress: ({ totalSize, downloaded, percent }) => {
    console.log(
      `Download progress: ${totalSize}/${downloaded} bytes (${(
        percent * 100
      ).toFixed(0)}%)`
    );
  },
});

console.log(outputPath); // "/Users/yourname/remotion-project/out.mp4"
console.log(sizeInBytes); // 21249541
```

## 参数

一个具有以下属性的对象：

### `region`

执行渲染的 [AWS 区域](/docs/lambda/region-selection)。

### `bucketName`

存储渲染的存储桶名称。这应该与您用于 [`renderMediaOnLambda()`](/docs/lambda/rendermediaonlambda) 或 [`renderStillOnLambda()`](/docs/lambda/renderstillonlambda) 的相同变量。

### `renderId`

渲染的 ID。您可以通过调用 [`renderMediaOnLambda()`](/docs/lambda/rendermediaonlambda) 或 [`renderStillOnLambda()`](/docs/lambda/renderstillonlambda) 来检索此 ID。

### `outPath`

视频应保存的位置。传递绝对路径，否则将相对于当前工作目录解析。

### `onProgress`

_可选_

回调函数，带有以下属性：

- `totalSize` 字节
- `downloaded` 下载的字节数
- `percent` 0 到 1 之间的相对进度

### `customCredentials`

_可选，从 v3.2.23 开始可用_

如果渲染保存到[不同的云](/docs/lambda/custom-destination#saving-to-another-cloud)，请传递一个具有与您传递给 [`renderMediaOnLambda()`](/docs/lambda/rendermediaonlambda#outname) 或 [`renderStillOnLambda()`](/docs/lambda/renderstillonlambda#outname) 相同的 `endpoint`、`accessKeyId` 和 `secretAccessKey` 的对象。

## 返回值

返回一个解析为具有以下属性的对象的 Promise：

### `outputPath`

文件保存的绝对路径。

### `sizeInBytes`

文件的字节大小。

## 参见

- [此函数的源代码](https://github.com/remotion-dev/remotion/blob/main/packages/lambda/src/api/download-media.ts)
- [renderMediaOnLambda()](/docs/lambda/rendermediaonlambda)
- [renderStillOnLambda()](/docs/lambda/renderstillonlambda) 



I'm ready to start the translation whenever you paste the Markdown content.
