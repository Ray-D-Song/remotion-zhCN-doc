---
image: /generated/articles-docs-lambda-cli-render.png
id: render
sidebar_label: 渲染
title: 'npx remotion lambda render'
slug: /lambda/cli/render
crumb: 'Lambda CLI 参考'
---

import {MinimumFramesPerLambda} from '../../../components/lambda/default-frames-per-lambda';

使用 `npx remotion lambda render` 命令，您可以在云中渲染视频。

命令的结构如下：

```
npx remotion lambda render <serve-url> [<composition-id>] [<output-location>]
```

参数：

- 使用 [`sites create`](/docs/lambda/cli/sites#create) 命令或调用 [`deploySite()`](/docs/lambda/deploysite) 获取 [Serve URL](/docs/terminology/serve-url)。
- [Composition ID](/docs/terminology/composition#composition-id)。如果未指定，将获取组合列表，您可以选择一个组合。
- `output-location` 参数是可选的。如果不指定，视频将存储在您的 S3 存储桶中。如果指定位置，它将在额外步骤中下载到您的设备中。

## 示例命令

渲染视频：

```
npx remotion lambda render https://remotionlambda-abcdef.s3.eu-central-1.amazonaws.com/sites/testbed/index.html my-comp
```

渲染视频并将其保存到 `out/video.mp4`：

```
npx remotion lambda render https://remotionlambda-abcdef.s3.eu-central-1.amazonaws.com/sites/testbed/index.html my-comp out/video.mp4
```

使用简写 Serve URL：

```
npx remotion lambda render testbed my-comp
```

:::info
如果使用简写 Serve URL，则必须传递组合 ID。仅当传递完整 Serve URL 时，才能获取可用组合。
:::

传入输入属性：

```
npx remotion lambda render --props='{"hi": "there"}' testbed my-comp
```

打印包括 CloudWatch 链接在内的调试信息：

```
npx remotion lambda render --log=verbose testbed my-comp
```

保持输出视频私有：

```
npx remotion lambda render --privacy=private testbed my-comp
```

仅渲染音频：

```
npx remotion lambda render --codec=mp3 testbed my-comp
```

## 标志

### `--region`

[**AWS区域**](/docs/lambda/region-selection)。项目和函数都应该在此区域中。

### `--props`

[传递给视频所选组合的输入属性。](/docs/passing-props#passing-input-props-in-the-cli)  
必须是一个序列化的 JSON 字符串 (`--props='{"hello": "world"}'`) 或一个指向 JSON 文件的路径 (`./path/to/props.json`)。  
从根组件中，可以使用 [`getInputProps()`](/docs/get-input-props) 读取属性。  
您可以使用 [`calculateMetadata()`](/docs/calculate-metadata) 转换输入属性。

:::note
在 Windows shells 中不支持内联 JSON 字符串，因为它会移除 `"` 字符，请改用文件名。
:::

### `--log`

Lambda 函数内部要使用的日志级别。如果设置为 `verbose`，将打印一个指向 CloudWatch 的链接，您可以在其中检查日志。

### `--privacy`

其中之一：

- `"public"`（_默认_）：渲染的媒体可以在 S3 URL 下公开访问。
- `"private"`：渲染的媒体不是公开可用的，但可以使用 [presignUrl()](/docs/lambda/presignurl) 创建签名链接。
- `"no-acl"`（_从 v.3.1.7 开始可用_）：不设置 ACL 选项，如果您要写入不支持 ACL 的另一个存储桶，可以使用此选项，使用 [`outName`](/docs/lambda/cli/render#--out-name)。

### `--max-retries`

如果渲染失败，单个块重试的次数。默认为 `1`。

### `--frames-per-lambda`

在单个 Lambda 函数中应该渲染多少帧。增加此值可减少渲染视频所需的 Lambda 函数数量，减少此值可加快渲染速度。

默认值：[取决于视频长度](/docs/lambda/concurrency)  
最小值：<MinimumFramesPerLambda />

:::note
`framesPerLambda` 参数不能导致超过 200 个函数被生成。参见：[并发性](/docs/lambda/concurrency)
:::

### `--concurrency-per-lambda`<AvailableFrom v="3.0.30" />

### `--jpeg-quality`

[0 到 100 之间的值，用于 JPEG 渲染质量](/docs/config#setjpegquality)。在渲染 PNG 帧时不起作用。



### ~~`--quality`~~

在 `v4.0.0` 中更名为 `jpegQuality`。



### `--muted`<AvailableFrom v="3.2.1" />

[禁用音频输出。](/docs/cli/render#--muted) 只能在渲染视频时使用此选项。



### `--codec`

[`h264` 或 `h265`（自 `v4.0.32` 起支持）或 `png` 或 `vp8` 或 `mp3` 或 `aac` 或 `wav` 或 `prores`](/docs/config#setcodec)。如果不提供 `--codec`，将使用 `h264`。



### `--audio-codec`<AvailableFrom v="3.3.42" />

<Options id="audio-codec" />



### `--audio-bitrate`<AvailableFrom v="3.2.32" />

<Options id="audio-bitrate" />



### `--video-bitrate`<AvailableFrom v="3.2.32" />

<Options id="video-bitrate" />



### `--prores-profile`

[设置 ProRes 档案](/docs/config#setproresprofile)。此选项仅在 [`codec`](#--codec) 设置为 `prores` 时有效。可能的值：`4444-xq`、`4444`、`hq`、`standard`、`light`、`proxy`。查看[此处](https://video.stackexchange.com/a/14715)以了解可能的值。默认值：`hq`。



### `--x264-preset`

<Options id="x264-preset" />



### `--crf`

[设置输出的 Constant Rate Factor (CRF)](/docs/config#setcrf)。最小为 0。如果希望保持最佳质量并对文件大小不太关心，请使用此速率控制模式。



### `--pixel-format`

[设置自定义像素格式。查看此处以获取可用值。](/docs/config#setpixelformat)



### `--image-format`

[`jpeg` 或 `png` - JPEG 速度更快，但不支持透明度。](/docs/config#setvideoimageformat) 默认图像格式为 `jpeg`。



### `--scale`

[通过传入的因子缩放输出帧。](/docs/scaling) 例如，一个 1280x720px 的帧将以 `1.5` 的比例因子变为 1920x1080px 的帧。像字体和 HTML 标记等矢量元素将以更多细节呈现。



### `--env-file`

指定 dotenv 文件的位置 - 默认为 `.env`。[了解有关环境变量在 Remotion 中的工作方式。](/docs/env-variables)

### `--frames`

[渲染视频的子集](/docs/config#setframerange)。例如：`--frames=0-9` 选择前10帧。要渲染静态图，请使用 [`still`](/docs/lambda/cli/still) 命令。



### `--every-nth-frame`<AvailableFrom v="3.1.0" />

[仅渲染每第n帧。](/docs/config#seteverynthframe) 此选项仅在渲染 GIF 时可设置。这允许您降低 GIF 的帧速率。

例如，仅每隔一帧，每隔三帧等。仅适用于渲染 GIF。[点击此处了解更多详情。](/docs/render-as-gif)



### `--number-of-gif-loops`<AvailableFrom v="3.1.0" />

<Options id="number-of-gif-loops" />



### `--timeout`

描述渲染在解析所有 [`delayRender()`](/docs/delay-render) 调用之前可能需要多长时间 [超时](/docs/timeout) 的数字。默认值：`30000`



### `--out-name`

存储在 S3 存储桶中的媒体输出文件名。默认为 `out` 加上适当的文件扩展名，例如：`out.mp4`。必须匹配 `/([0-9a-zA-Z-!_.*'()/]+)/g`。



### `--overwrite`<AvailableFrom v="3.2.25" />

如果指定了自定义输出名称，并且在 S3 存储桶中的此键处已存在文件，则在渲染开始之前决定是否删除该文件。默认为 `false`。

输出 S3 键处的现有文件将与渲染冲突，并且必须事先删除。如果此设置为 `false` 并发生冲突，则会抛出错误。



### `--webhook`<AvailableFrom v="3.2.30" />

设置在渲染完成或失败时调用的 webhook。[`renderMediaOnLambda() -> webhook.url`](/docs/lambda/rendermediaonlambda#webhook)。与 `--webhook-secret` 一起使用。



### `--webhook-secret`<AvailableFrom v="3.2.30" />

为 webhook 设置一个秘钥（见上文）。[`renderMediaOnLambda() -> webhook.secret`](/docs/lambda/rendermediaonlambda#webhook)。与 `--webhook` 一起使用。



### `--height`<AvailableFrom v="3.2.40" />

[覆盖合成高度。](/docs/config#overrideheight)



### `--width`<AvailableFrom v="3.2.40" />




[覆盖组合宽度。](/docs/config#overridewidth)

### `--function-name`<AvailableFrom v="3.3.38" />

指定应用于调用和编排渲染的函数名称。只有在存在具有不同配置的多个函数时才需要传递它。

### `--renderer-function-name`<AvailableFrom v="3.3.38" />

如果指定了此函数，将用于渲染各个块。如果要使用具有更高或更低功率的函数来渲染块，则此选项很有用。

如果要使用此选项，函数必须位于相同的区域、相同的帐户，并且与主函数具有相同的版本。

### `--force-bucket-name`<AvailableFrom v="3.3.42" />

指定要使用的特定存储桶名称。[不建议这样做](/docs/lambda/multiple-buckets)，而是让 Remotion 自动发现正确的存储桶。

### `--ignore-certificate-errors`

导致 Chrome 忽略无效的 SSL 证书，例如自签名证书。

### `--disable-web-security`

这将主要禁用 Chrome 中的 CORS，以及其他安全功能。

### `--gl`

<Options id="gl" cli />

### `--user-agent`<AvailableFrom v="3.3.83"/>

允许您设置 headless Chrome 浏览器所假定的自定义用户代理。

### `--offthreadvideo-cache-size-in-bytes`<AvailableFrom v="4.0.23"/>

<Options id="offthreadvideo-cache-size-in-bytes" />

### `--delete-after`<AvailableFrom v="4.0.32"/>

<Options id="delete-after" cli />

### `--webhook-custom-data`<AvailableFrom v="4.0.25"/>

<Options id="webhook-custom-data" cli />

### `--color-space`<AvailableFrom v="4.0.28"/>

<Options cli id="color-space" />

### `--prefer-lossless`<AvailableFrom v="4.0.110"/>

<Options cli id="prefer-lossless" />

### `--force-path-style`<AvailableFrom v="4.0.202" />

将 `forcePathStyle` 传递给 AWS S3 客户端。如果您不知道这是什么，您可能不需要它。 


