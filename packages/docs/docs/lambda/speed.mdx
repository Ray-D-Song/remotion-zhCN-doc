---
image: /generated/articles-docs-lambda-speed.png
id: optimizing-speed
title: 优化速度
slug: /lambda/optimizing-speed
crumb: "Lambda"
---

在本页面中，介绍了一些使 Lambda 渲染尽可能快的策略。

## 更高的并发性

通常，较低的 [`framesPerLambda`](/docs/lambda/rendermediaonlambda#framesperlambda) 值将导致更高的并发性，从而有机会在较短的绝对时间内完成渲染。同时，会产生更多的开销，使渲染变得更昂贵。您还将遇到收益递减，并且添加过多的并发性可能会使速度变慢，因为编排许多 Lambda 函数的开销超过了收益。
有关更多信息，请参阅 [Lambda 并发性](/docs/lambda/concurrency) 页面。

## 更多内存

在 Lambda 上添加更多内存也将按比例增加 Lambda 的 CPU 功率，从而使渲染更快。同时，成本也会随着您添加的内存线性增加。

## `concurrencyPerLambda` 属性

[`renderMediaOnLambda()`](/docs/lambda/rendermediaonlambda) 中的 [`concurrencyPerLambda`](/docs/lambda/rendermediaonlambda#concurrencyperlambda) 属性允许您在单个 Lambda 函数中打开多个浏览器选项卡，从而有机会一次执行更多工作。如果 Lambda 函数太忙，增加并发性也可能适得其反。

## 使用 `speculateFunctionName()`

您可以调用 [`speculateFunctionName()`](/docs/lambda/speculatefunctionname) 来计算即将调用的函数的名称，而不是调用 [`getFunctions()`](/docs/lambda/getfunctions)，以节省一个 API 调用并节省高达 1 秒的时间。

## 存储桶命名

如果您使用的是 2022 年 12 月之前的 Remotion 版本，则您的存储桶名称可能不包含区域名称。这将导致 Remotion 必须列出所有存储桶名称并查询其区域，然后才能启动渲染。

[有关更多信息，请参阅本文](/docs/lambda/bucket-naming#aws-region-in-the-name)。考虑重命名您的存储桶或重新设置 Remotion Lambda 以获得更快的速度。特别适用于跨区域拥有许多 Remotion 存储桶的情况。

## 使用 MP3 作为音频编解码器<AvailableFrom v="4.0.16" /> 

默认情况下，视频使用 `h264` 编解码器和 `aac` 音频编解码器进行渲染。将 [`audioCodec`](/docs/encoding/#audio-codec) 设置为 `mp3` 将使“合并视频”阶段速度更快，因为 MP3 编解码器比 AAC 编解码器快得多。然而，**音频将无法在 QuickTime Player 中播放，文件大小略高**。

## 优化渲染性能 

请参阅[通用性能提示](/docs/performance)，这些提示也适用于 Lambda。

## 另请参阅 

- [优化成本](/docs/lambda/optimizing-cost)
- [性能](/docs/performance)
