---
image: /generated/articles-docs-studio-update-default-props.png
title: updateDefaultProps()
crumb: "@remotion/studio"
---

# updateDefaultProps()<AvailableFrom v="4.0.154"/>

更新 Props 编辑器（在 Studio 中右侧边栏中）中的默认 props。  
您的组件将使用新的 props 重新渲染。  
这些 props **不会** 保存到[根文件](/docs/terminology/root-file) - 请使用 [`saveDefaultProps()`](/docs/studio/save-default-props) 来保存。

## 示例

```tsx twoslash title="将 {color: 'green'} 设置为默认 props"
// @target: esnext
import { updateDefaultProps } from "@remotion/studio";

updateDefaultProps({
  compositionId: "my-composition",
  defaultProps: () => {
    return {
      color: "green",
    };
  },
});
```

您可以访问当前未保存的默认 props 以仅覆盖其中的一部分（类似于 reducer 风格）：

```tsx twoslash title="访问当前 props"
// @target: esnext
import { saveDefaultProps } from "@remotion/studio";

await saveDefaultProps({
  compositionId: "my-composition",
  defaultProps: ({ unsavedDefaultProps }) => {
    return { ...unsavedDefaultProps, color: "green" };
  },
});
```

如果您只想在保存的更改之上进行覆盖：

```tsx twoslash title="访问保存的 props"
// @target: esnext
import { updateDefaultProps } from "@remotion/studio";

updateDefaultProps({
  compositionId: "my-composition",
  defaultProps: ({ savedDefaultProps }) => {
    return {
      ...savedDefaultProps,
      color: "green",
    };
  },
});
```

如果您有 Zod 模式，则还可以访问其运行时值：

```tsx twoslash title="从 Props 编辑器保存 props"
// @target: esnext
import { updateDefaultProps } from "@remotion/studio";

updateDefaultProps({
  compositionId: "my-composition",
  defaultProps: ({ schema, unsavedDefaultProps }) => {
    // Do something with the Zod schema

    return {
      ...unsavedDefaultProps,
      color: "red",
    };
  },
});
```

## 要求

为了使用此功能：

<Step>1</Step> 您需要在 Remotion Studio 中。
<br />
<Step>2</Step> Studio 必须在运行中（不能是静态部署）
<br />
<Step>3</Step> 必须安装 <code>zod</code>。
<br />
<br />

否则，该函数将抛出异常。

## 参见

- [此函数的源代码](https://github.com/remotion-dev/remotion/blob/main/packages/studio/src/api/update-default-props.ts)

