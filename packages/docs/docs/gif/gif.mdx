---
image: /generated/articles-docs-gif-gif.png
slug: gif
sidebar_label: "<Gif>"
title: "<Gif>"
crumb: "@remotion/gif"
---

_属于 [`@remotion/gif`](/docs/gif) 包_

显示一个 GIF，与 Remotion 的 [`useCurrentFrame()`](/docs/use-current-frame) 同步。

## 属性

### `src`

_必需_

GIF 的来源。可以是 URL 或本地图片 - 参见 [导入资源](/docs/assets)。

:::note
远程 GIF 需要支持 [CORS](https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS)。

<details>
<summary>更多信息</summary>
<ul>
<li>
Remotion 的原始地址通常是 <code>http://localhost:3000</code>，但如果在 Lambda 上渲染或端口繁忙，则可能会有所不同。
</li>
<li>
您可以在渲染期间 <a href="/docs/chromium-flags#--disable-web-security">禁用 CORS</a>。
</li>
</ul>
</details>
:::

### `width`

显示宽度。

### `height`

显示高度。

### `fit`

必须是以下值之一：

- `'fill'`：GIF 将完全填充容器，必要时将被拉伸。 (_默认_)
- `'contain'`：GIF 被缩放以适应框，同时保持纵横比。
- `'cover'`：GIF 完全填充容器并保持其纵横比。如果需要，将被裁剪。

### `onLoad`

一旦 GIF 加载并完成处理，将调用的回调。作为唯一参数，回调提供以下对象：

- `width`：GIF 文件的宽度（以像素为单位）。
- `height`：GIF 文件的高度（以像素为单位）。
- `delays`：包含每帧位置的 `number` 类型时间戳数组。
- `frames`：[`ImageData`](https://developer.mozilla.org/en-US/docs/Web/API/ImageData) 类型的帧数组。

### `style`

允许传递自定义 CSS 样式。您可能不需要传递 `width` 和 `height`，而是使用属性 `width` 和 `height` 来设置 GIF 的大小。

### `loopBehavior`<AvailableFrom v="3.3.4" />

GIF 的循环行为。可以是以下值之一：

- `'loop'`：GIF 将无限循环。 (_默认_)
- `'pause-after-finish'`：GIF 将播放一次，然后显示最后一帧。
- `'unmount-after-finish'`：GIF 将播放一次，然后卸载。请注意，如果附加了 `ref`，则在 GIF 播放完成后将变为 `null`。

### `ref`<AvailableFrom v="3.3.88" />

您可以将 [React ref](https://react.dev/learn/manipulating-the-dom-with-refs) 添加到 `<Gif>`。如果您使用 TypeScript，您需要用 `HTMLCanvasElement` 对其进行类型标注。

### playbackRate<AvailableFrom v="4.0.44" />

`playbackRate` 属性控制 Remotion 视频中 GIF 动画的播放速度。它允许您调整 GIF 动画的播放速度，从而实现与视频内容的精确同步。

默认值：1（正常速度）
取值：

- `1`：以正常速度播放 GIF。
- `< 1`：减慢 GIF 的播放速度（例如，0.5 以一半速度播放）。
- `> 1`：加快 GIF 的播放速度（例如，2.0 以两倍速度播放）。

## 示例

```tsx twoslash
import { useRef } from "react";
import { useVideoConfig } from "remotion";
// ---cut---
import { Gif } from "@remotion/gif";

export const MyComponent: React.FC = () => {
  const { width, height } = useVideoConfig();
  const ref = useRef<HTMLCanvasElement>(null);

  return (
    <Gif
      ref={ref}
      src="https://media.giphy.com/media/3o72F7YT6s0EMFI0Za/giphy.gif"
      width={width}
      height={height}
      fit="fill"
      playbackRate={2}
    />
  );
};
```

## 参见

- [`getGifDurationInSeconds()`](/docs/gif/get-gif-duration-in-seconds)
- [此组件的源代码](https://github.com/remotion-dev/remotion/blob/main/packages/gif/src/Gif.tsx)
