---
image: /generated/articles-docs-miscellaneous-snippets-offthread-video-while-rendering.png
title: "<OffthreadVideo /> 在渲染时"
crumb: "片段"
---

以下组件在渲染时只会使用[`<OffthreadVideo />`](/docs/offthreadvideo)，但在播放器中会使用[`<Video />`](/docs/video)。
这对于将`ref`附加到[`<Video />`](/docs/video)标签非常有用。


```tsx twoslash
// @noErrors
import { forwardRef } from "react";
import {
  getRemotionEnvironment,
  OffthreadVideo,
  RemotionOffthreadVideoProps,
  Video,
} from "remotion";

const OffthreadWhileRenderingRefForwardingFunction: React.ForwardRefRenderFunction<
  HTMLVideoElement,
  RemotionOffthreadVideoProps
> = (props, ref) => {
  const { imageFormat, ...otherProps } = props;
  const isPreview = !getRemotionEnvironment().isRendering;

  if (isPreview) {
    return <Video ref={ref} {...otherProps}></Video>;
  }

  return <OffthreadVideo {...props}></OffthreadVideo>;
};

export const OffthreadVideoWhileRendering = forwardRef(
  OffthreadWhileRenderingRefForwardingFunction
);
```
