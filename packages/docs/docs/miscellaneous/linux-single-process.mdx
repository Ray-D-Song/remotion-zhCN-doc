---
image: /generated/articles-docs-miscellaneous-linux-single-process.png
sidebar_label: Linux上的多核
title: Linux上的多核
crumb: '服务器端渲染'
---

:::info
此文档已过时。从4.0.137版本开始，默认行为是使用多进程模式。  
该设置仍然存在，但默认值为 `true`。
:::

默认情况下，Remotion 在 Linux 上启动 Chromium 浏览器时会使用 `--single-process` 标志。这是因为：

- Chromium 的沙盒功能不受所有 Linux 发行版支持
- 旧版本的 Chromium 在无头模式下启动多个进程时会崩溃
- 如果缺少某些桌面库，Chromium 可能会在某些发行版上启动时崩溃。

这可能导致渲染性能下降，特别是在尝试利用高核心 CPU 和高 Remotion 并发性时。

## 在 Linux 上启用多进程渲染

_从 v4.0.42 版本开始可用_

目前，此选项是选择性的。要在 Linux 上在渲染期间为 Chromium 启用多进程模式：

- **renderMedia()** / **openBrowser()** / **renderFrames()**：使用 [`chromiumOptions.enableMultiProcessOnLinux`](/docs/renderer/render-media#enablemultiprocessonlinux) 选项。
- **CLI**：使用 [`--enable-multi-process-on-linux`](/docs/cli/render#--enable-multiprocess-on-linux) 标志。
- **配置文件**：使用 [`Config.setChromiumMultiProcessInLinux()`](/docs/config#setchromiummultiprocessonlinux) 选项。
- **Remotion Studio**：在高级设置中查看切换按钮。
- **Cloud Run**：从 v4.0.42 版本开始，此选项会自动启用。
- **Lambda**：在 Amazon Linux 上，如果不使用 `--single-process` 标志，Chrome 将崩溃，因此此选项已禁用且无法启用。我们建议使用更多的 Lambda 而不是每个 Lambda 更多的并发性。

## 我应该启用多进程模式吗？

答案取决于 Linux 环境。如果您在服务器上运行 Remotion，则应尝试启用多进程模式并查看是否有效。

我们推荐的 [Docker](/docs/docker) 镜像已确认在启用多进程模式时正常工作。

## 参见

- [Chromium 标志](/docs/chromium-flags)
- [将 Remotion 应用程序 Docker 化](/docs/docker) 
