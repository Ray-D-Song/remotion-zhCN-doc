---
image: /generated/articles-docs-cloudrun-checklist.png
id: checklist
sidebar_label: 生产清单
title: 生产清单
slug: /cloudrun/checklist
crumb: "Cloud Run"
---

<ExperimentalBadge>
<p>Cloud Run 处于 <a href="/docs/cloudrun-alpha">Alpha</a> 阶段，这意味着 API 可能会在任何版本中更改，文档尚未完成。请查看 <a href="https://remotion.dev/changelog">更改日志</a> 以了解最新的重大更改。</p>
</ExperimentalBadge>

import {DefaultTimeout} from '../../components/cloudrun/default-timeout';

您已经使用 Remotion Cloud Run 实现了您的解决方案，并准备将您的项目推向世界。恭喜！
在您上线之前，请通过此清单确保 Cloud Run 运行稳定。

### 优化内存

为您的 Cloud Run 服务添加过多的内存可能会使渲染成本更高。多次重新部署您的服务，并尽量降低内存大小，直到您感觉已经找到了低成本和视频可靠渲染之间的最佳平衡点。

### 最大文件大小

Cloud Run 上的输出文件大小受内存限制约束，减去运行在服务上的 Remotion Cloud Run 支持软件的大小。调整 Cloud Run 的磁盘空间参数以适应您希望支持的最大视频长度。测试您的输出文件大小，并确保它们不会超过限制。

如果您的视频基于用户输入，请防止用户渲染非常长的视频，以免超出 Remotion Cloud Run 中可用的空间。

### 权限

确保您的 GCP 服务帐号只具有所需的权限，并将您的凭据存储为环境变量。查看 [权限](/docs/cloudrun/permissions) 页面，了解最低权限要求是什么。

### 选择正确的并发性

使用 Remotion API，服务将以并发性为 1（即无并发性）部署。这是为了确保不会出现由不相关渲染的共享 CPU 和内存引起的问题。如果您希望更改此设置，您需要从 GCP 控制台的 Cloud Run 部分内点击“编辑并部署新版本”，然后选择所需的并发性。

### 选择正确的实例限制

默认情况下，Cloud Run 服务的最小实例数设置为 0，最大实例限制为 100。如果一次发出了超过 100 个同时的渲染请求，将返回 503 服务不可用。[在此处阅读有关实例限制的更多信息](/docs/cloudrun/instancecount). 

### 存储桶隐私

默认情况下，渲染的视频在您的存储桶中是公开访问的。如果需要，可以在 [`renderMediaOnCloudrun()`](/docs/cloudrun/rendermediaoncloudrun) 和 [`renderStillOnCloudrun()`](/docs/cloudrun/renderstilloncloudrun) 中使用 `privacy` 设置来使渲染私有。

### 速率限制

请考虑用户是否可能调用许多视频渲染，这将增加您的 GCP 账单，并实施速率限制器以防止恶意用户渲染许多视频。

### 超时

您的 Cloud Run 服务的默认超时时间为 <DefaultTimeout /> 秒。测量并调整超时时间以满足您的需求，并确保它足够长，以确保您的视频渲染不会失败。

### 有效的公司许可证

拥有超过 3 人的公司需要购买云渲染席位才能使用 Remotion Cloud Run。在启动之前，请熟悉 [许可证](https://github.com/remotion-dev/remotion/blob/main/LICENSE.md) 并 [购买必要的云席位](https://www.remotion.pro). 
