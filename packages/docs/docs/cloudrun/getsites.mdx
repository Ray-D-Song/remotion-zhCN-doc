---
image: /generated/articles-docs-cloudrun-getsites.png
id: getsites
title: getSites()
slug: /cloudrun/getsites
crumb: "Cloud Run API"
---

<ExperimentalBadge>
<p>Cloud Run 处于 <a href="/docs/cloudrun-alpha">Alpha</a> 阶段，这意味着 API 可能会在任何版本中更改，文档尚未完成。请查看 <a href="https://remotion.dev/changelog">更改日志</a> 以保持最新的破坏性更改。</p>
</ExperimentalBadge>

获取您的 GCP 项目中 Cloud Storage 中的 Remotion 项目数组。

这些项目位于您的 Cloud Storage 存储桶的 `sites/` 子目录中。请记住 - 您应该每个区域只有一个 Remotion Cloud Run 存储桶，因此您不需要为此函数指定存储桶的名称。

## 示例

获取所有站点并记录有关它们的信息。

```ts twoslash
// @module: ESNext
// @target: ESNext
import { getSites } from "@remotion/cloudrun";

const { sites, buckets } = await getSites("europe-west4");

for (const site of sites) {
  console.log(site.id); // A unique ID for referring to that project
  console.log(site.bucketName); // In which bucket the site resides in.
  console.log(site.bucketRegion); // In which region the bucket resides in.
  console.log(site.serveUrl); // URL of the deployed site that you can pass to `renderMediaOnCloudRun()`
}

for (const bucket of buckets) {
  console.log(bucket.name); // The name of the Cloud Storage bucket.
  console.log(bucket.creationDate); // A unix timestamp of when the site was created.
  console.log(bucket.region); // 'europe-west4'
}
```

## 参数

一个具有以下属性的对象：

### `region`

您要查询的 [GCP 区域](/docs/cloudrun/region-selection)。或者，您可以传递 'all regions' 来返回所有区域中的站点。

```ts twoslash
// @module: ESNext
// @target: ESNext
import { getSites } from "@remotion/cloudrun";

const { sites, buckets } = await getSites("all regions");
```

## 返回值

解析为具有以下属性的对象的 Promise：

### `sites`

您可以用于渲染的已部署 Remotion 项目数组。

每个项目包含以下属性：

#### `id`

该项目的唯一标识符。

#### `bucketName`

项目所在的存储桶。

#### `bucketRegion`

存储桶所在的区域。

#### `serveUrl`

部署站点的 URL。您可以将其传递给 [`renderMediaOnCloudRun()`](/docs/cloudrun/rendermediaoncloudrun) 以渲染视频或音频。

### `buckets`

您帐户中所选区域中所有以 `remotioncloudrun-` 开头的存储桶数组。

:::info
您应该每个区域只有 [1 个存储桶](/docs/cloudrun/multiple-buckets) 用于所有 Remotion 项目。
:::

每个项目包含以下属性：

#### `region`

存储桶所在的区域。

#### `name`

存储桶的名称。Cloud Storage 存储桶具有全局唯一的名称。

#### `creationDate`

存储桶首次创建时的 UNIX 时间戳。

## 参见

- [此函数的源代码](https://github.com/remotion-dev/remotion/blob/main/packages/cloudrun/src/api/get-sites.ts)
- [deleteSite()](/docs/cloudrun/deletesite)
