---
image: /generated/articles-docs-cloudrun-cli-render.png
id: render
sidebar_label: render
title: "npx remotion cloudrun render"
slug: /cloudrun/cli/render
crumb: "Cloud Run CLI 参考"
---

<ExperimentalBadge>
  <p>
    Cloud Run 处于 <a href="/docs/cloudrun-alpha">Alpha</a> 阶段，这意味着 API 可能会在任何版本中更改，文档尚未完成。请查看{' '}<a href="https://remotion.dev/changelog">更改日志以了解最新的重大更改</a>。
  </p>
</ExperimentalBadge>

使用 `npx remotion cloudrun render` 命令，您可以在 GCP 上渲染视频。

命令的结构如下：

```
npx remotion cloudrun render <serve-url> [<composition-id>] [<output-location>]
```

- 通过使用 [`sites create`](/docs/cloudrun/cli/sites#create) 命令部署 Remotion 项目到 GCP 存储桶，或调用 [`deployService()`](/docs/cloudrun/deployservice) 来获取服务 URL。
- [组合 ID](/docs/terminology/composition#composition-id)。如果未指定，将获取组合列表，您可以选择一个组合。
- `output-location` 参数是可选的。如果不指定，视频将存储在您的 Cloud 存储桶中。如果指定位置，它将在额外步骤中下载到您的设备。

## 示例命令

渲染视频，传递服务名称：

```
npx remotion cloudrun render https://storage.googleapis.com/remotioncloudrun-123asd321/sites/abcdefgh/index.html tiles --service-name=remotion--3-3-82--mem512mi--cpu1-0--t-800
```

使用站点名称而不是完整的服务 URL：

```
npx remotion cloudrun render test-site tiles --service-name=remotion--3-3-82--mem512mi--cpu1-0--t-800
```

传入输入属性：

```
npx remotion cloudrun render test-site tiles --service-name=remotion--3-3-82--mem512mi--cpu1-0--t-800 --props='{"hi": "there"}'
```

## 标志

### `--region`

选择的 [GCP 区域](/docs/cloudrun/region-selection)。为了获得最低延迟，服务、站点和输出存储桶应位于同一区域。

### `--props`

[将输入的 Props 传递给视频中所选的组合。](/docs/passing-props#passing-input-props-in-the-cli).  
必须是一个序列化的 JSON 字符串 (`--props='{"hello": "world"}'`) 或一个指向 JSON 文件的路径 (`./path/to/props.json`).  
从根组件中，可以使用 [`getInputProps()`](/docs/get-input-props) 来读取 props。  
您可以使用 [`calculateMetadata()`](/docs/calculate-metadata) 来转换输入的 props。

:::note
在 Windows shells 上不支持内联 JSON 字符串，因为它会移除 `"` 字符，请改用文件名。
:::

### `--privacy`

其中之一：

- `"public"`（_默认_）：渲染的媒体可以通过 Cloud 存储 URL 公开访问。
- `"private"`：渲染的媒体不是公开的，但对具有正确权限的 GCP 项目内的用户可用。

### `--force-bucket-name`

指定用于输出的特定存储桶名称。生成的 Google Cloud 存储 URL 将采用 `gs://{bucket-name}/renders/{render-id}/{file-name}` 的格式。如果未设置，Remotion 将根据区域选择正确的存储桶。

### `--concurrency`

一个数字或描述应打开多少个浏览器选项卡的字符串。默认为 "50%"。

:::note
在 v4.0.76 之前，默认值为 "100%"。现在已与其他服务器端渲染 API 对齐。
:::

### `--jpeg-quality`

[JPEG 渲染质量介于 0 和 100 之间](/docs/config#setjpegquality)。当渲染 PNG 帧时不起作用。

### `--image-format`

[`jpeg` 或 `png` - JPEG 更快，但不支持透明度。](/docs/config#setvideoimageformat) 默认图像格式为 `jpeg`。

### `--scale`

[按您传入的因子缩放输出帧。](/docs/scaling) 例如，一个 1280x720px 的帧将在缩放因子为 `1.5` 的情况下变为 1920x1080px 的帧。字体和 HTML 标记等矢量元素将以更多细节呈现。

### `--env-file`

指定 dotenv 文件的位置 - 默认为 `.env`。[了解有关 Remotion 中环境变量的工作原理。](/docs/env-variables) 



### `--out-name`

媒体输出文件在云存储桶中的文件名。默认情况下，它是 `out` 加上适当的文件扩展名，例如：`out.mp4`。必须匹配 `/([0-9a-zA-Z-!_.*'()/]+)/g`。



### `--cloud-run-url`

指定应用于执行渲染的服务的 URL。您必须设置 `cloud-run-url` _或者_ `service-name`，但不能同时设置两者。



### `--service-name`

指定应用于执行渲染的服务的名称。这与区域一起用于确定服务端点，因为相同的服务名称可以存在于多个区域。您必须设置 `cloud-run-url` _或者_ `service-name`，但不能同时设置两者。



### `--codec`

[`h264` 或 `h265` 或 `png` 或 `vp8` 或 `mp3` 或 `aac` 或 `wav` 或 `prores`](/docs/config#setcodec)。如果不提供 `--codec`，将使用 `h264`。



### `--audio-codec`

<Options id="audio-codec" />



### `--audio-bitrate`

<Options id="audio-bitrate" />



### `--video-bitrate`

<Options id="video-bitrate" />



### `--prores-profile`

[设置 ProRes 档案](/docs/config#setproresprofile)。此选项仅在 [`codec`](#--codec) 设置为 `prores` 时有效。可能的值：`4444-xq`、`4444`、`hq`、`standard`、`light`、`proxy`。有关可能值的解释，请参见[此处](https://video.stackexchange.com/a/14715)。默认值：`hq`。



### `--x264-preset`

<Options id="x264-preset" />



### `--crf`

[设置输出的 Constant Rate Factor (CRF)](/docs/config#setcrf)。最小值为 0。如果您希望保持最佳质量并对文件大小不太关心，请使用此速率控制模式。



### `--pixel-format`

[设置自定义像素格式。请参见此处以获取可用值。](/docs/config#setpixelformat)



### `--every-nth-frame`

[仅渲染每第 n 帧。](/docs/config#seteverynthframe) 仅在渲染 GIF 时可以设置此选项。这允许您降低 GIF 的 FPS。

例如，仅每隔一帧、每隔三帧等。仅适用于渲染 GIF。[请参见此处获取更多详细信息。](/docs/render-as-gif)



### `--number-of-gif-loops`


<Options id="number-of-gif-loops" />

### `--frames`

[渲染视频的子集](/docs/config#setframerange)。示例：`--frames=0-9` 选择前10帧。

### `--offthreadvideo-cache-size-in-bytes`<AvailableFrom v="4.0.23"/>

<Options id="offthreadvideo-cache-size-in-bytes" />

### `--color-space`<AvailableFrom v="4.0.28"/>

<Options cli id="color-space" />

