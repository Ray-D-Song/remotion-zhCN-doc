---
image: /generated/articles-docs-transitions-transitionseries.png
crumb: "@remotion/transitions"
sidebar_label: "<TransitionSeries>"
title: "<TransitionSeries>"
---

_从 v4.0.59 开始可用_

import { TransitionsDuration } from "../../components/TransitionsDuration";

`<TransitionSeries>` 组件的行为与 [`<Series>`](/docs/series) 组件相同，但允许在 `<TransitionSeries.Sequence>` 组件之间渲染 `<TransitionSeries.Transition>` 组件。

每个过渡由两部分组成：

<Step>1</Step> <code>presentation</code>: 正在使用的效果，例如 <a href="/docs/transitions/presentations/fade"><code>fade()</code></a> 或 <a href="/docs/transitions/presentations/wipe"><code>wipe()</code></a>。<br />

<Step>2</Step> <code>timing</code>: 持续时间和进度曲线，例如 <a href="/docs/transitions/timings/springtiming"><code>springTiming()</code></a> 或 <a href="/docs/transitions/timings/lineartiming"><code>linearTiming()</code></a>

<br />
<br />

此软件包内置了一些演示和定时，但也可以创建自定义的。

```tsx twoslash title="MyComp.tsx"
import { AbsoluteFill } from "remotion";
const Fill = ({ color }: { color: string }) => (
  <AbsoluteFill style={{ backgroundColor: color }} />
);

// ---cut---
import {
  linearTiming,
  springTiming,
  TransitionSeries,
} from "@remotion/transitions";

import { fade } from "@remotion/transitions/fade";
import { wipe } from "@remotion/transitions/wipe";

export const MyComp: React.FC = () => {
  return (
    <TransitionSeries>
      <TransitionSeries.Sequence durationInFrames={60}>
        <Fill color="blue" />
      </TransitionSeries.Sequence>
      <TransitionSeries.Transition
        timing={springTiming({ config: { damping: 200 } })}
        presentation={fade()}
      />
      <TransitionSeries.Sequence durationInFrames={60}>
        <Fill color="black" />
      </TransitionSeries.Sequence>
      <TransitionSeries.Transition
        timing={linearTiming({ durationInFrames: 30 })}
        presentation={wipe()}
      />
      <TransitionSeries.Sequence durationInFrames={60}>
        <Fill color="white" />
      </TransitionSeries.Sequence>
    </TransitionSeries>
  );
};
```

## API

### `<TransitionSeries>`

继承了 [`<Sequence>`](/docs/sequence) 的 [`from`](/docs/sequence#from)、[`name`](/docs/sequence#name)、[`className`](/docs/sequence#classname) 和 [`style`](/docs/sequence#style) 属性。

`<TransitionSeries>` 组件只能包含 `<TransitionSeries.Sequence>` 和 `<TransitionSeries.Transition>` 组件。

### `<TransitionSeries.Sequence>`

继承了 [`<Sequence>`](/docs/sequence) 的 [`durationInFrames`](/docs/sequence#durationinframes)、[`name`](/docs/sequence#name)、[`className`](/docs/sequence#classname)、[`style`](/docs/sequence#style)、[`premountFor`](/docs/sequence#premountfor) 和 [`layout`](/docs/sequence#layout) 属性。

作为子元素，放置您场景的内容。

### `<TransitionSeries.Transition>`

接受两个属性：

- `timing`: 类型为 `TransitionTiming` 的定时。有关更多信息，请参阅 [Timings](/docs/transitions/timings)。
- `presentation?`: 类型为 `TransitionPresentation` 的演示。如果未指定，默认值为 `slide()`。有关更多信息，请参阅 [Presentations](/docs/transitions/presentations)。

必须是`<TransitionSeries>`的直接子元素。  
至少一个`<TransitionSeries.Sequence>`组件必须在`<TransitionSeries.Transition>`组件之前或之后。  
不允许两个`<TransitionSeries.Transition>`组件相邻。

## 进入和退出动画

您不一定要使用`<TransitionSeries>`来在场景之间进行过渡。您还可以使用它来动画场景的进入或退出，方法是将过渡放在`<TransitionSeries>`的第一个或最后一个位置。

```tsx twoslash title="SlideTransition.tsx"
import { AbsoluteFill } from "remotion";

const Letter: React.FC<{
  children: React.ReactNode;
  color: string;
}> = ({ children, color }) => {
  return (
    <AbsoluteFill
      style={{
        backgroundColor: color,
        opacity: 0.9,
        justifyContent: "center",
        alignItems: "center",
        fontSize: 200,
        color: "white",
      }}
    >
      {children}
    </AbsoluteFill>
  );
};
// ---cut---
import { linearTiming, TransitionSeries } from "@remotion/transitions";
import { slide } from "@remotion/transitions/slide";

const BasicTransition = () => {
  return (
    <TransitionSeries>
      <TransitionSeries.Sequence durationInFrames={40}>
        <Letter color="#0b84f3">A</Letter>
      </TransitionSeries.Sequence>
      <TransitionSeries.Transition
        presentation={slide()}
        timing={linearTiming({ durationInFrames: 30 })}
      />
    </TransitionSeries>
  );
};
```

## `<TransitionSeries>`的持续时间

考虑以下示例：

```tsx twoslash title="SlideTransition.tsx"
import { AbsoluteFill } from "remotion";

const Letter: React.FC<{
  children: React.ReactNode;
  color: string;
}> = ({ children, color }) => {
  return (
    <AbsoluteFill
      style={{
        backgroundColor: color,
        opacity: 0.9,
        justifyContent: "center",
        alignItems: "center",
        fontSize: 200,
        color: "white",
      }}
    >
      {children}
    </AbsoluteFill>
  );
};
// ---cut---
import { linearTiming, TransitionSeries } from "@remotion/transitions";
import { slide } from "@remotion/transitions/slide";

const BasicTransition = () => {
  return (
    <TransitionSeries>
      <TransitionSeries.Sequence durationInFrames={40}>
        <Letter color="#0b84f3">A</Letter>
      </TransitionSeries.Sequence>
      <TransitionSeries.Transition
        presentation={slide()}
        timing={linearTiming({ durationInFrames: 30 })}
      />
      <TransitionSeries.Sequence durationInFrames={60}>
        <Letter color="pink">B</Letter>
      </TransitionSeries.Sequence>
    </TransitionSeries>
  );
};
```

`A`在40帧内可见，`B`在60帧内可见，过渡的持续时间为30帧。  
在此期间，两个幻灯片都会被渲染。这意味着动画的总持续时间为`60 + 40 - 30 = 70`。

<TransitionsDuration />

<details>
<summary>具有3个幻灯片的示例</summary>

```tsx twoslash title="SlideTransition.tsx"
import { AbsoluteFill } from "remotion";

const Letter: React.FC<{
  children: React.ReactNode;
  color: string;
}> = ({ children, color }) => {
  return (
    <AbsoluteFill
      style={{
        backgroundColor: color,
        opacity: 0.9,
        justifyContent: "center",
        alignItems: "center",
        fontSize: 200,
        color: "white",
      }}
    >
      {children}
    </AbsoluteFill>
  );
};
// ---cut---
import { linearTiming, TransitionSeries } from "@remotion/transitions";
import { slide } from "@remotion/transitions/slide";

const BasicTransition = () => {
  return (
    <TransitionSeries>
      <TransitionSeries.Sequence durationInFrames={40}>
        <Letter color="#0b84f3">A</Letter>
      </TransitionSeries.Sequence>
      <TransitionSeries.Transition
        presentation={slide()}
        timing={linearTiming({ durationInFrames: 30 })}
      />
      <TransitionSeries.Sequence durationInFrames={60}>
        <Letter color="pink">B</Letter>
      </TransitionSeries.Sequence>
      <TransitionSeries.Transition
        presentation={slide()}
        timing={linearTiming({ durationInFrames: 45 })}
      />
      <TransitionSeries.Sequence durationInFrames={90}>
        <Letter color="green">C</Letter>
      </TransitionSeries.Sequence>
    </TransitionSeries>
  );
};
```

- 第一张幻灯片显示40帧
- 第二张幻灯片显示60帧
- 第三张幻灯片显示90帧
- 有两个过渡，一个30帧长，一个45帧长

1. 总结持续时间：`40 + 60 + 90 = 190`
2. 减去过渡的持续时间：`190 - 30 - 45 = 115`

</details>

## 获取过渡的持续时间

您可以通过在时间轴上调用`getDurationInFrames()`来获取过渡的持续时间：

```tsx twoslash title="假设帧速率为30fps"
import { springTiming } from "@remotion/transitions";

springTiming({ config: { damping: 200 } }).getDurationInFrames({ fps: 30 }); // 23
```

## 规则

<Step>1</Step> 不允许有比前一个或后一个序列的持续时间更长的过渡。<br />
<Step>2</Step> 两个过渡之间不能相邻。<br />
<Step>3</Step> 在过渡之前或之后必须至少有一个序列。

## 参见

- [此函数的源代码](https://github.com/remotion-dev/remotion/blob/main/packages/transitions/src/TransitionSeries.tsx)
- [过渡效果](/docs/transitioning)
- [时间设置](/docs/transitions/timings)
- [演示文稿](/docs/transitions/presentations)
- [`<系列>`](/docs/series)
