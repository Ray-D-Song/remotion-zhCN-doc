---
slug: apple-wow
title: é‡æ–°åˆ›å»ºè‹¹æœçƒŸèŠ±åŠ¨ç”»
authors:
  - name: æ¢…èµ«æ¢…ç‰¹Â·é˜¿å¾·ç±³
    title: å•†åŠ¡å¼€å‘è€…
    url: https://github.com/MehmetAdemi
    image_url: /img/team/mehmet.png
  - name: ä¹”å°¼Â·ä¼¯æ ¼
    title: é¦–å¸­é»‘å®¢
    url: https://github.com/JonnyBurger
    image_url: /img/team/jonny.png
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import {AppleFireworksTutorial} from '../src/components/tutorials';

å­¦ä¹ å¦‚ä½•ä½¿ç”¨è¿™ä¸ªé€‚åˆåˆå­¦è€…çš„ Remotion æ•™ç¨‹åˆ›å»ºè‹¹æœåœ¨èŠ‚å‡æ—¥ç½‘ç«™ä¸Šå±•ç¤ºçš„åŠ¨ç”»ï¼
<img src="/img/apple-wow-tutorial/Final.gif"/>

## è§†é¢‘ç‰ˆæœ¬

æ­¤æ•™ç¨‹ä¹Ÿæœ‰è§†é¢‘ç‰ˆæœ¬å¯ä¾›å‚è€ƒï¼š

<AppleFireworksTutorial />

## æºä»£ç 

[GitHub](https://github.com/remotion-dev/apple-wow-tutorial)

## å…¥é—¨æŒ‡å—

å¼€å§‹ä¸€ä¸ªæ–°çš„ Remotion é¡¹ç›®å¹¶é€‰æ‹©ç©ºç™½æ¨¡æ¿ï¼š

<Tabs
defaultValue="npm"
values={[
{ label: 'npm', value: 'npm', },
{ label: 'yarn', value: 'yarn', },
{ label: 'pnpm', value: 'pnpm', },
]
}>
<TabItem value="npm">

```bash
npm init video --blank
```

  </TabItem>
  <TabItem value="pnpm">

```bash
pnpm create video --blank
```

  </TabItem>

  <TabItem value="yarn">

```bash
yarn create video --blank
```

  </TabItem>
</Tabs>

## ç»„åˆè®¾ç½®

[`<Composition>`](https://www.remotion.dev/docs/terminology/composition) å®šä¹‰è§†é¢‘çš„å°ºå¯¸å’ŒæŒç»­æ—¶é—´ã€‚åœ¨ `src/Root.tsx` æ–‡ä»¶ä¸­ï¼Œå°†å®½åº¦å’Œé«˜åº¦è°ƒæ•´ä¸ºä»¥ä¸‹å†…å®¹ï¼š

```tsx twoslash title="src/Root.tsx"
import { Composition } from "remotion";
export const MyComposition: React.FC = () => null;
// ---cut---
export const RemotionRoot: React.FC = () => {
  return (
    <>
      <Composition
        id="MyComp"
        component={MyComposition}
        durationInFrames={150}
        fps={30}
        width={1920}
        height={1080}
      />
    </>
  );
};
```

## åˆ›å»ºèƒŒæ™¯

åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ `src/Background.tsx` å¹¶è¿”å›ä¸€ä¸ªå¸¦æœ‰çº¿æ€§æ¸å˜çš„èƒŒæ™¯ï¼š

```tsx twoslash title="src/Background.tsx"
import React from "react";
import { AbsoluteFill } from "remotion";

export const Background: React.FC = () => {
  return (
    <AbsoluteFill
      style={{
        background: "linear-gradient(to bottom, #000021, #010024)",
      }}
    />
  );
};
```

å°†åˆ›å»ºçš„èƒŒæ™¯æ·»åŠ åˆ° `<MyComposition/>` ç»„ä»¶ä¸­ï¼Œè¯¥ç»„ä»¶å¯ä»¥åœ¨æ–‡ä»¶ `src/Composition.tsx` ä¸­æ‰¾åˆ°ã€‚æ­¤æ–‡ä»¶å°†åŒ…å«æ‚¨åœ¨æœ¬æ•™ç¨‹ä¸­åˆ›å»ºçš„æ‰€æœ‰ç»„ä»¶ã€‚

```tsx twoslash title="src/Composition.tsx"
// @filename: Background.tsx
export const Background: React.FC = () => null;

// @filename: Composition.tsx
import React from "react";
import { AbsoluteFill } from "remotion";
import { Background } from "./Background";
// ---cut---

export const MyComposition: React.FC = () => {
  return (
    <AbsoluteFill>
      <Background />
    </AbsoluteFill>
  );
};
```

è¿™å°†äº§ç”Ÿä»¥ä¸‹æ•ˆæœï¼š

```html
<img src="/img/apple-wow-tutorial/Background.png"/>

## æ¸²æŸ“ä¸€ä¸ªç‚¹

é€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ `src/Dot.tsx` å¹¶è¿”å›ä¸€ä¸ªå±…ä¸­çš„åœ†æ¥æ¸²æŸ“ä¸€ä¸ªç™½è‰²çš„ç‚¹ã€‚

```tsx twoslash title="src/Dot.tsx"
import React from "react";
import { AbsoluteFill } from "remotion";

export const Dot: React.FC = () => {
  return (
    <AbsoluteFill
      style={{
        justifyContent: "center",
        alignItems: "center",
      }}
    >
      <div
        style={{
          height: 14,
          width: 14,
          borderRadius: 14 / 2,
          backgroundColor: "#ccc",
        }}
      />
    </AbsoluteFill>
  );
};
```

åœ¨ä½ çš„ä¸»åˆæˆ `src/Composition.tsx` ä¸­æ·»åŠ  `<Dot>`ï¼š

```tsx twoslash title="src/Composition.tsx"
// @filename: Dot.tsx
export const Dot: React.FC = () => null;
// @filename: Background.tsx
export const Background: React.FC = () => null;

// @filename: Composition.tsx
import React from "react";
import { AbsoluteFill } from "remotion";
import { Background } from "./Background";
import { Dot } from "./Dot";
// ---cut---

export const MyComposition: React.FC = () => {
  return (
    <AbsoluteFill>
      <Background />
      <Dot />
    </AbsoluteFill>
  );
};
```

ç°åœ¨æˆ‘ä»¬åœ¨èƒŒæ™¯ä¸Šæœ‰ä¸€ä¸ªç™½è‰²çš„ç‚¹ï¼š
<img src="/img/apple-wow-tutorial/Dot.png"/>

## ä¸ºç‚¹æ·»åŠ åŠ¨ç”»

è®©æˆ‘ä»¬å¯¹ä¸Šé¢åˆ›å»ºçš„ç™½è‰²ç‚¹åº”ç”¨ä¸€äº›åŠ¨ç”»ã€‚æˆ‘ä»¬åœ¨ä¸€ä¸ªæ–°æ–‡ä»¶ `src/Shrinking.tsx` ä¸­åˆ›å»ºå¦ä¸€ä¸ªç»„ä»¶ `<Shrinking>`ï¼Œç„¶åå°†è¯¥ç»„ä»¶åŒ…è£¹åœ¨ä¸»åˆæˆ `src/Composition.tsx` ä¸­ã€‚

```tsx title="src/Shrinking.tsx"
import React from "react";
import { AbsoluteFill, interpolate, useCurrentFrame } from "remotion";

export const Shrinking: React.FC<{
  children: React.ReactNode;
}> = ({ children }) => {
  const frame = useCurrentFrame();

  return (
    <AbsoluteFill
      style={{
        scale: String(
          interpolate(frame, [60, 90], [1, 0], {
            extrapolateLeft: "clamp",
            extrapolateRight: "clamp",
          }),
        ),
      }}
    >
      {children}
    </AbsoluteFill>
  );
};
```

åœ¨ä½ çš„ä¸»åˆæˆ `src/Composition.tsx` ä¸­æ·»åŠ  `<Shrinking>` ç»„ä»¶ï¼š

```tsx twoslash
// @filename: Shrinking.tsx
export const Shrinking: React.FC<{
  children: React.ReactNode;
}> = () => null;
// @filename: Background.tsx
export const Background: React.FC = () => null;
// @filename: Dot.tsx
export const Dot: React.FC = () => null;

// @filename: Composition.tsx
import React from "react";
import { AbsoluteFill } from "remotion";
import { Background } from "./Background";
import { Dot } from "./Dot";
import { Shrinking } from "./Shrinking";

// ---cut---

export const MyComposition: React.FC = () => {
  return (
    <AbsoluteFill>
      <Background />
      <Shrinking>
        <Dot />
      </Shrinking>
    </AbsoluteFill>
  );
};
```

ç°åœ¨ï¼Œä½ æœ‰ä¸€äº›åŠ¨ä½œå¯ä»¥å±•ç¤ºäº†ã€‚é€šè¿‡åœ¨ä¸»åˆæˆä¸­ä½¿ç”¨ `<Shrinking>`ï¼Œä½ å·²ç»åˆ›å»ºäº†ä¸€ä¸ªç¼©æ”¾æ•ˆæœï¼š
<img src="/img/apple-wow-tutorial/Shrinking.gif"/>

## ç§»åŠ¨ç‚¹

æ¥ä¸‹æ¥ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º `<Move>` çš„ç»„ä»¶ã€‚è¯¥ç»„ä»¶å…·æœ‰ä¸€ä¸ªå¼¹ç°§åŠ¨ç”»ï¼Œé»˜è®¤æƒ…å†µä¸‹ä»é›¶åˆ°ä¸€ï¼Œå¹¶ä¸”åœ¨ä¸‹é¢çš„ä»£ç ç‰‡æ®µä¸­æŒç»­å››ç§’é’Ÿï¼ˆ`durationInFrames: 120`ï¼‰ï¼š

```tsx twoslash title="src/Move.tsx"
import React from "react";
import {
  AbsoluteFill,
  interpolate,
  spring,
  useCurrentFrame,
  useVideoConfig,
} from "remotion";

export const Move: React.FC<{
  children: React.ReactNode;
}> = ({ children }) => {
  const { fps } = useVideoConfig();
  const frame = useCurrentFrame();

  const down = spring({
    fps,
    frame,
    config: {
      damping: 200,
    },
    durationInFrames: 120,
  });

  const y = interpolate(down, [0, 1], [0, -400]);

  return (
    <AbsoluteFill
      style={{
        translate: `0 ${y}px`,
      }}
    >
      {children}
    </AbsoluteFill>
  );
};
```

å°† `<Move>` ç»„ä»¶æ·»åŠ åˆ°ä½ çš„åˆæˆ `src/Composition.tsx` ä¸­ã€‚é€šè¿‡å°†ç¼©å°çš„ç‚¹åŒ…è£¹åœ¨ `<Move>` ç»„ä»¶ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡ç»“åˆç§»åŠ¨å’Œç¼©å°çš„æ•ˆæœè·å¾—ä¸€ä¸ªä¸é”™çš„åŠ¨ç”»ï¼š

```tsx twoslash title="src/Composition.tsx"
// @filename: Move.tsx
export const Move: React.FC<{
  children: React.ReactNode;
}> = ({ children }) => null;
// @filename: Shrinking.tsx
export const Shrinking: React.FC<{
  children: React.ReactNode;
}> = () => null;
// @filename: Background.tsx
export const Background: React.FC = () => null;
// @filename: Dot.tsx
export const Dot: React.FC = () => null;

// @filename: Composition.tsx
import React from "react";
import { AbsoluteFill } from "remotion";
import { Background } from "./Background";
import { Dot } from "./Dot";
import { Move } from "./Move";
import { Shrinking } from "./Shrinking";

// ---cut---

export const MyComposition = () => {
  return (
    <AbsoluteFill>
      <Background />
      <Move>
        <Shrinking>
          <Dot />
        </Shrinking>
      </Move>
    </AbsoluteFill>
  );
};
```

ç‚¹å°±è¿™æ ·é£èµ·æ¥äº†ï¼š
<img src="/img/apple-wow-tutorial/Move.gif"/>

## å¤åˆ¶ç§»åŠ¨çš„ç‚¹

è¿™é‡Œå˜å¾—æœ‰ç‚¹æ£˜æ‰‹ï¼Œä½†ä»¥ä¸‹æ­¥éª¤å°†ä½¿ä½ çš„åŠ¨ç”»æ›´åŠ æœ‰è¶£ã€‚é¦–å…ˆï¼Œå°†ä¸€ä¸ª `delay` å±æ€§æ·»åŠ åˆ° `<Move>` ç»„ä»¶ä¸­ï¼Œç„¶åæ›´æ”¹ `spring()` å‡½æ•°çš„ `frame` å‚æ•°ã€‚

```tsx twoslash title="src/Move.tsx"
import React from "react";
import {
  AbsoluteFill,
  interpolate,
  spring,
  useCurrentFrame,
  useVideoConfig,
} from "remotion";

export const Move: React.FC<{
  children: React.ReactNode;
  delay: number;
}> = ({ children, delay }) => {
  const { fps } = useVideoConfig();
  const frame = useCurrentFrame();

  const down = spring({
    fps,
    frame: frame - delay,
    config: {
      damping: 200,
    },
    durationInFrames: 120,
  });

  const y = interpolate(down, [0, 1], [0, -400]);

  return (
    <AbsoluteFill
      style={{
        translate: `0 ${y}px`,
      }}
    >
      {children}
    </AbsoluteFill>
  );
};
```

ç°åœ¨ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª`<Trail>`ç»„ä»¶ã€‚å®ƒæ¥å—ä¸€äº›Reactå­å…ƒç´ å¹¶å¯¹å®ƒä»¬è¿›è¡Œå¤åˆ¶ã€‚è¯¥ç»„ä»¶ä¼šä¸ºæ¯ä¸ªåç»­çš„ç‚¹æ·»åŠ å»¶è¿Ÿï¼Œä»¥ä¾¿å®ƒä»¬ä¸ä¼šåŒæ—¶å¼€å§‹ã€‚æ¯ä¸ªç‚¹éƒ½ä¼šåº”ç”¨ä¸€ä¸ªæ¯”å‰ä¸€ä¸ªç‚¹å°çš„æ¯”ä¾‹ã€‚

å°†ä¹‹å‰åˆ›å»ºçš„`<Move>`ç»„ä»¶æ”¾åœ¨`<Trail>`ç»„ä»¶ä¸­ã€‚
è¿™é‡Œçš„é¡ºåºè‡³å…³é‡è¦ã€‚æ“ä½œæ˜¯ä»å†…åˆ°å¤–è¿›è¡Œçš„ï¼š

1. åº”ç”¨ä¸€ä¸ªæ¯”ä¾‹ï¼Œä½¿ç‚¹éšæ—¶é—´å˜å°ã€‚
2. åº”ç”¨ç§»åŠ¨åŠ¨ç”»ã€‚
3. ä½¿ç”¨Remotionçš„`<Sequence>`ç»„ä»¶åœ¨æ¯ä¸ªç‚¹çš„åŠ¨ç”»å¼€å§‹ä¹‹é—´åº”ç”¨å»¶è¿Ÿã€‚

```tsx twoslash title="src/Trail.tsx"
// @filename: Move.tsx
export const Move: React.FC<{
  children: React.ReactNode;
  delay: number;
}> = () => null;

// @filename: Trail.tsx
// ---cut---
import React from "react";
import { AbsoluteFill, Sequence } from "remotion";
import { Move } from "./Move";

export const Trail: React.FC<{
  amount: number;
  children: React.ReactNode;
}> = ({ amount, children }) => {
  return (
    <AbsoluteFill>
      {new Array(amount).fill(true).map((a, i) => {
        return (
          <Sequence from={i * 3}>
            <AbsoluteFill>
              <Move delay={0}>
                <AbsoluteFill
                  style={{
                    scale: String(1 - i / amount),
                  }}
                >
                  {children}
                </AbsoluteFill>
              </Move>
            </AbsoluteFill>
          </Sequence>
        );
      })}
    </AbsoluteFill>
  );
};
```

åœ¨æ‚¨çš„ä¸»ç»„ä»¶ä¸­ï¼Œç°åœ¨ç”¨`<Trail>`ç»„ä»¶æ›¿æ¢`<Move>`ç»„ä»¶ï¼š

```tsx twoslash title="src/Composition.tsx"
// @filename: Move.tsx
export const Move: React.FC<{
  children: React.ReactNode;
  delay: number;
}> = () => null;
// @filename: Shrinking.tsx
export const Shrinking: React.FC<{
  children: React.ReactNode;
}> = () => null;
// @filename: Background.tsx
export const Background: React.FC<{}> = () => null;
// @filename: Dot.tsx
export const Dot: React.FC<{}> = () => null;
// @filename: Trail.tsx
export const Trail: React.FC<{
  children: React.ReactNode;
  amount: number;
}> = () => null;

// @filename: Composition.tsx
import React from "react";
import { AbsoluteFill } from "remotion";
import { Background } from "./Background";
import { Dot } from "./Dot";
import { Shrinking } from "./Shrinking";
import { Trail } from "./Trail";
// ---cut---

export const MyComposition = () => {
  return (
    <AbsoluteFill>
      <Background />
      <Trail amount={4}>
        <Shrinking>
          <Dot />
        </Shrinking>
      </Trail>
    </AbsoluteFill>
  );
};
```

è¿™æ˜¯å¸¦æœ‰å¤åˆ¶ç‚¹çš„åŠ¨ç”»åº”è¯¥çœ‹èµ·æ¥çš„æ ·å­ï¼š
<img src="/img/apple-wow-tutorial/Trail.gif"/>

## å¤åˆ¶æ ‡è®°å¹¶å°†å…¶æ’åˆ—æˆä¸€ä¸ªåœ†

ç°åœ¨è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª`<Explosion>`ç»„ä»¶ã€‚å®ƒæ¥å—å­å…ƒç´ å¹¶å°†å®ƒä»¬æ¸²æŸ“ä¾‹å¦‚10æ¬¡ï¼Œå¹¶å¯¹æ¯ä¸ªå®ä¾‹åº”ç”¨æ—‹è½¬ã€‚å€¼å¾—ä¸€æçš„æ˜¯ï¼Œå®Œæ•´çš„æ—‹è½¬é‡ä¸º2Ï€ï¼Œè€Œ`(i/AMOUNT)`è¡¨ç¤º0åˆ°1ä¹‹é—´çš„å› å­ã€‚

```tsx twoslash title="src/Explosion.tsx"
import React from "react";
import { AbsoluteFill } from "remotion";

const AMOUNT = 10;

export const Explosion: React.FC<{
  children: React.ReactNode;
}> = ({ children }) => {
  return (
    <AbsoluteFill>
      {new Array(AMOUNT).fill(true).map((_, i) => {
        return (
          <AbsoluteFill
            style={{
              rotate: (i / AMOUNT) * (2 * Math.PI) + "rad",
            }}
          >
            {children}
          </AbsoluteFill>
        );
      })}
    </AbsoluteFill>
  );
};
```

å°†`<Trail>`æ”¾åœ¨`<Explosion>`ç»„ä»¶ä¸­ã€‚æ‚¨çš„ä¸»ç»„ä»¶ï¼ˆ`src/Composition.tsx`ï¼‰å¦‚ä¸‹æ‰€ç¤ºï¼š

```tsx twoslash title="src/Composition.tsx"
// @filename: Move.tsx
export const Move: React.FC<{
  children: React.ReactNode;
  delay: number;
}> = () => null;
// @filename: Shrinking.tsx
export const Shrinking: React.FC<{
  children: React.ReactNode;
}> = () => null;
// @filename: Explosion.tsx
export const Explosion: React.FC<{
  children: React.ReactNode;
}> = () => null;
// @filename: Background.tsx
export const Background: React.FC<{}> = () => null;
// @filename: Dot.tsx
export const Dot: React.FC<{}> = () => null;
// @filename: Trail.tsx
export const Trail: React.FC<{
  children: React.ReactNode;
  amount: number;
}> = () => null;

// @filename: MyComposition.tsx
// ---cut---
import React from "react";
import { AbsoluteFill } from "remotion";
import { Background } from "./Background";
import { Dot } from "./Dot";
import { Explosion } from "./Explosion";
import { Shrinking } from "./Shrinking";
import { Trail } from "./Trail";
// ---cut---

export const MyComposition = () => {
  return (
    <AbsoluteFill>
      <Background />
      <Explosion>
        <Trail amount={4}>
          <Shrinking>
            <Dot />
          </Shrinking>
        </Trail>
      </Explosion>
    </AbsoluteFill>
  );
};
```

åŠ¨ç”»çˆ†ç‚¸åº”è¯¥çœ‹èµ·æ¥åƒè¿™æ ·ï¼š
<img src="/img/apple-wow-tutorial/Explosion.gif"/>

## æ¸…ç†

åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‚¨å·²ç»åˆ›å»ºäº†ä¸€å †æ–‡ä»¶ï¼Œè®©æˆ‘ä»¬å°†å¤§éƒ¨åˆ†æ–‡ä»¶æ”¾åœ¨ä¸€ä¸ªåä¸º`src/Dots.tsx`çš„æ–‡ä»¶ä¸­ã€‚å°†`<Explosion>`å’Œå…¶å­å…ƒç´ æå–åˆ°ä¸€ä¸ªåä¸ºDotsçš„æ–°ç‹¬ç«‹ç»„ä»¶ä¸­ã€‚

```tsx twoslash title="src/Dots.tsx"
// @filename: Move.tsx
export const Move: React.FC<{
  children: React.ReactNode;
  delay: number;
}> = () => null;
// @filename: Shrinking.tsx
export const Shrinking: React.FC<{
  children: React.ReactNode;
}> = () => null;
// @filename: Explosion.tsx
export const Explosion: React.FC<{
  children: React.ReactNode;
}> = () => null;
// @filename: Background.tsx
export const Background: React.FC<{}> = () => null;
// @filename: Dot.tsx
export const Dot: React.FC<{}> = () => null;
// @filename: Trail.tsx
export const Trail: React.FC<{
  children: React.ReactNode;
  amount: number;
}> = () => null;

// @filename: MyComposition.tsx
// ---cut---
import React from "react";
import { Sequence } from "remotion";
import { Dot } from "./Dot";
import { Explosion } from "./Explosion";
import { Shrinking } from "./Shrinking";
import { Trail } from "./Trail";

export const Dots: React.FC = () => {
  return (
    <Explosion>
      <Trail amount={4}>
        <Shrinking>
          <Sequence from={5}>
            <Dot />
          </Sequence>
        </Shrinking>
      </Trail>
    </Explosion>
  );
};
```

ç”¨æ–°çš„`<Dots>`ç»„ä»¶æ›¿æ¢`<Explosion>`ï¼š

```tsx twoslash
// @filename: Background.tsx
export const Background: React.FC<{}> = () => null;
// @filename: Dots.tsx
export const Dots: React.FC<{}> = () => null;

// @filename: MyComposition.tsx
import React from "react";
import { AbsoluteFill } from "remotion";
import { Background } from "./Background";
import { Dots } from "./Dots";
// ---cut---

export const MyComposition = () => {
  return (
    <AbsoluteFill>
      <Background />
      <Dots />
    </AbsoluteFill>
  );
};
```

åŠ¨ç”»æœ¬èº«æ²¡æœ‰ä»»ä½•å˜åŒ–ï¼š
<img src="/img/apple-wow-tutorial/Dots.gif"/>

## æ·»åŠ å¿ƒå½¢å’Œæ˜Ÿæ˜Ÿ

ä¸ºäº†ä½¿åŠ¨ç”»æ›´åŠ ç²¾å½©ï¼Œè®©æˆ‘ä»¬æ·»åŠ ä¸€äº›ä¸åŒé¢œè‰²çš„æ˜Ÿæ˜Ÿå’Œå¿ƒå½¢ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬åŸºæœ¬ä¸Šéœ€è¦é‡å¤ä¹‹å‰çš„æ­¥éª¤ã€‚é™¤äº† `<Dots>` ç»„ä»¶å¤–ï¼Œåœ¨æ¥ä¸‹æ¥çš„å‡ ä¸ªæ­¥éª¤ä¸­ï¼Œæˆ‘ä»¬å°†æ·»åŠ å¦å¤–ä¸‰ä¸ªç»„ä»¶ã€‚

è®©æˆ‘ä»¬ä»çº¢è‰²å¿ƒå½¢å¼€å§‹ã€‚é¦–å…ˆï¼Œé€šè¿‡åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ `src/RedHeart.tsx` å¹¶è¿”å›ä¸€ä¸ªå±…ä¸­çš„çº¢è‰²å¿ƒå½¢è¡¨æƒ…æ¥æ¸²æŸ“ä¸€ä¸ªçº¢è‰²å¿ƒå½¢ã€‚

```tsx twoslash title="src/RedHeart.tsx"
import React from "react";
import { AbsoluteFill } from "remotion";

export const RedHeart: React.FC = () => {
  return (
    <AbsoluteFill
      style={{
        justifyContent: "center",
        alignItems: "center",
      }}
    >
      â¤ï¸
    </AbsoluteFill>
  );
};
```

éœ€è¦å°† `<Shrinking>`ã€`<Move>` å’Œ `<Explosion>` è¿™äº›æ•ˆæœåº”ç”¨åˆ°è¿™ä¸ªçº¢è‰²å¿ƒå½¢ä¸Šã€‚æˆ‘ä»¬åœ¨ä¸€ä¸ªåä¸º RedHearts çš„æ–°ç»„ä»¶ä¸­å®ç°è¿™ä¸€ç‚¹ã€‚

è€ƒè™‘åˆ°æˆ‘ä»¬éœ€è¦ç»™ `<RedHearts>` æ·»åŠ ä¸€ä¸ªåç§»é‡ï¼Œå¦åˆ™å®ƒä»¬ä¼šä¸ `<Dots>` çš„ä½ç½®ç›¸åŒã€‚

æˆ‘ä»¬é€šè¿‡ç»™çº¢è‰²å¿ƒå½¢ä¸€ä¸ªæ¯”ç‚¹æ›´å¤§çš„åŠå¾„ï¼Œå¹¶åº”ç”¨ `100px` çš„å¹³ç§»æ¥æ”¹å˜ä½ç½®ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬ç»™ `<Move>` ç»„ä»¶æ·»åŠ äº†ä¸€ä¸ªçŸ­æš‚çš„ 5 å¸§å»¶è¿Ÿï¼š

```tsx twoslash title="src/RedHearts.tsx"
// @filename: Move.tsx
export const Move: React.FC<{
  children: React.ReactNode;
  delay: number;
}> = () => null;
// @filename: Shrinking.tsx
export const Shrinking: React.FC<{
  children: React.ReactNode;
}> = () => null;
// @filename: Explosion.tsx
export const Explosion: React.FC<{
  children: React.ReactNode;
}> = () => null;
// @filename: Background.tsx
export const Background: React.FC<{}> = () => null;
// @filename: Dot.tsx
export const Dot: React.FC<{}> = () => null;
// @filename: RedHeart.tsx
export const RedHeart: React.FC<{}> = () => null;
// @filename: Trail.tsx
export const Trail: React.FC<{
  children: React.ReactNode;
  extraOffset: number;
  amount: number;
}> = () => null;

// @filename: MyComposition.tsx
// ---cut---
import React from "react";
import { AbsoluteFill } from "remotion";
import { Explosion } from "./Explosion";
import { Move } from "./Move";
import { RedHeart } from "./RedHeart";
import { Shrinking } from "./Shrinking";

export const RedHearts: React.FC = () => {
  return (
    <Explosion>
      <Move delay={5}>
        <AbsoluteFill style={{ transform: `translateY(-100px)` }}>
          <Shrinking>
            <RedHeart />
          </Shrinking>
        </AbsoluteFill>
      </Move>
    </Explosion>
  );
};
```

æˆ‘ä»¬åšåŒæ ·çš„äº‹æƒ…æ¥è·å¾—ä¸€äº›é»„è‰²å¿ƒå½¢åœ¨æˆ‘ä»¬çš„åŠ¨ç”»ä¸­ï¼š

```tsx twoslash title="src/YellowHeart.tsx"
import React from "react";
import { AbsoluteFill } from "remotion";

export const YellowHeart: React.FC = () => {
  return (
    <AbsoluteFill
      style={{
        justifyContent: "center",
        alignItems: "center",
      }}
    >
      ğŸ’›
    </AbsoluteFill>
  );
};
```

å¯¹äºé»„è‰²å¿ƒå½¢ï¼Œæˆ‘ä»¬å°†é€šè¿‡åº”ç”¨ `50px` çš„å¹³ç§»å¹¶ç»™ `<Move>` ç»„ä»¶æ·»åŠ ä¸€ä¸ª 20 å¸§çš„å»¶è¿Ÿæ¥æ”¹å˜ä½ç½®ï¼š

```tsx twoslash title="src/YellowHearts.tsx"
// @filename: Move.tsx
export const Move: React.FC<{
  children: React.ReactNode;
  delay: number;
}> = () => null;
// @filename: Shrinking.tsx
export const Shrinking: React.FC<{
  children: React.ReactNode;
}> = () => null;
// @filename: Explosion.tsx
export const Explosion: React.FC<{
  children: React.ReactNode;
}> = () => null;
// @filename: Background.tsx
export const Background: React.FC<{}> = () => null;
// @filename: YellowHeart.tsx
export const YellowHeart: React.FC<{}> = () => null;
// @filename: Dot.tsx
export const Dot: React.FC<{}> = () => null;
// @filename: RedHeart.tsx
export const RedHeart: React.FC<{}> = () => null;
// @filename: Trail.tsx
export const Trail: React.FC<{
  children: React.ReactNode;
  extraOffset: number;
  amount: number;
}> = () => null;

// @filename: MyComposition.tsx
// ---cut---
import React from "react";
import { AbsoluteFill } from "remotion";
import { Explosion } from "./Explosion";
import { Move } from "./Move";
import { Shrinking } from "./Shrinking";
import { YellowHeart } from "./YellowHeart";

export const YellowHearts: React.FC = () => {
  return (
    <AbsoluteFill
      style={{
        rotate: "0.3rad",
      }}
    >
      <Explosion>
        <Move delay={20}>
          <AbsoluteFill
            style={{
              transform: `translateY(-50px)`,
            }}
          >
            <Shrinking>
              <YellowHeart />
            </Shrinking>
          </AbsoluteFill>
        </Move>
      </Explosion>
    </AbsoluteFill>
  );
};
```

æ‚¨çš„ä¸»è¦ç»„åˆåº”è¯¥å¦‚ä¸‹æ‰€ç¤ºï¼š
<img src="/img/apple-wow-tutorial/DotsAndHearts.gif"/>

<br/>
<br/>

é™¤äº†ç‚¹å’Œå¿ƒå½¢ï¼Œè®©æˆ‘ä»¬ä¹Ÿæ·»åŠ æ˜Ÿæ˜Ÿã€‚

åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ `src/Star.tsx` å¹¶è¿”å›ä¸€ä¸ªå±…ä¸­çš„æ˜Ÿæ˜Ÿè¡¨æƒ…ã€‚

```tsx twoslash title="src/Star.tsx"
import React from "react";
import { AbsoluteFill } from "remotion";

export const Star: React.FC = () => {
  return (
    <AbsoluteFill
      style={{
        justifyContent: "center",
        alignItems: "center",
        fontSize: 14,
      }}
    >
      â­
    </AbsoluteFill>
  );
};
```

è¯·æ³¨æ„ï¼Œæˆ‘ä»¬éœ€è¦æ›´æ”¹æ˜Ÿæ˜Ÿçš„å®šä½ï¼Œå¦åˆ™å®ƒä»¬ä¼šåœ¨ `<Dots>` çš„ä¸Šæ–¹ã€‚

è®©æˆ‘ä»¬ç»™ `<Trail>` ä¸€ä¸ª `extraOffset` å±æ€§ï¼Œè¿™æ ·æ˜Ÿæ˜Ÿå°±å¯ä»¥æ¯”ç‚¹æ›´å‘å¤–å¼€å§‹ã€‚

æ˜Ÿæ˜Ÿçš„ `extraOffset` ä¸º 100 å¯¼è‡´äº†ä¸çº¢è‰²å¿ƒå½¢ç›¸åŒçš„å¼€å§‹å’Œç»“æŸçš„åœ†å‘¨ã€‚è¿™æ˜¯è°ƒæ•´åçš„ `<Trail>`ï¼š 

```tsx twoslash title="src/Trail.tsx"
// @filename: Move.tsx
export const Move: React.FC<{
  children: React.ReactNode;
  delay: number;
}> = () => null;

// @filename: Trail.tsx
// ---cut---
import React from "react";
import { AbsoluteFill, Sequence } from "remotion";
import { Move } from "./Move";

export const Trail: React.FC<{
  amount: number;
  extraOffset: number;
  children: React.ReactNode;
}> = ({ amount, extraOffset, children }) => {
  return (
    <AbsoluteFill>
      {new Array(amount).fill(true).map((a, i) => {
        return (
          <Sequence from={i * 3}>
            <AbsoluteFill
              style={{
                translate: `0 ${-extraOffset}px`,
              }}
            >
              <Move delay={0}>
                <AbsoluteFill
                  style={{
                    scale: String(1 - i / amount),
                  }}
                >
                  {children}
                </AbsoluteFill>
              </Move>
            </AbsoluteFill>
          </Sequence>
        );
      })}
    </AbsoluteFill>
  );
};
```

Effects like `<Shrinking>`, the new `<Trail>` and `<Explosion>` need to be applied to the star we created above. Additionally we also add some rotation. We do all of this in a new component called Stars:

```tsx twoslash title="src/Stars.tsx"
// @filename: Move.tsx
export const Move: React.FC<{
  children: React.ReactNode;
  delay: number;
}> = () => null;
// @filename: Shrinking.tsx
export const Shrinking: React.FC<{
  children: React.ReactNode;
}> = () => null;
// @filename: Explosion.tsx
export const Explosion: React.FC<{
  children: React.ReactNode;
}> = () => null;
// @filename: Background.tsx
export const Background: React.FC<{}> = () => null;
// @filename: Dot.tsx
export const Dot: React.FC<{}> = () => null;
// @filename: Star.tsx
export const Star: React.FC<{}> = () => null;
// @filename: Trail.tsx
export const Trail: React.FC<{
  children: React.ReactNode;
  extraOffset: number;
  amount: number;
}> = () => null;

// @filename: MyComposition.tsx
// ---cut---
import React from "react";
import { AbsoluteFill } from "remotion";
import { Explosion } from "./Explosion";
import { Shrinking } from "./Shrinking";
import { Star } from "./Star";
import { Trail } from "./Trail";

export const Stars: React.FC = () => {
  return (
    <AbsoluteFill
      style={{
        rotate: "0.3rad",
      }}
    >
      <Explosion>
        <Trail extraOffset={100} amount={4}>
          <Shrinking>
            <Star />
          </Shrinking>
        </Trail>
      </Explosion>
    </AbsoluteFill>
  );
};
```

è¿™æ˜¯å‡ ä¹å®Œæˆçš„çƒŸèŠ±æ•ˆæœ:
<img src="/img/apple-wow-tutorial/DotsAndHeartsAndStars.gif"/>

## Slow motion effect

æœ€åè®©æˆ‘ä»¬ç»™çƒŸèŠ±åº”ç”¨ä¸€ä¸ªæ…¢åŠ¨ä½œæ•ˆæœã€‚ä¸ºæ­¤ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º `src/SlowedTrail.tsx` çš„æ–°æ–‡ä»¶ã€‚å®ƒåº”è¯¥åŒ…å«ä¸€ä¸ªåä¸º Slowed çš„ç»„ä»¶å’Œä¸€ä¸ªåä¸º `remapSpeed()` çš„è¾…åŠ©å‡½æ•°ï¼Œè¯¥å‡½æ•°å°†ä¸ºçƒŸèŠ±åº”ç”¨ä¸åŒçš„é€Ÿåº¦çº§åˆ«ã€‚åœ¨ä¸‹é¢çš„ä»£ç ç‰‡æ®µä¸­ï¼Œé€Ÿåº¦ä¸º 1.5 è¢«åº”ç”¨åˆ°ç¬¬ 20 å¸§ï¼Œä¹‹åé€Ÿåº¦å‡æ…¢åˆ° 0.5ã€‚

```tsx twoslash title="src/SlowedTrail.tsx"
import React from "react";
import { Freeze, interpolate, useCurrentFrame } from "remotion";

// remapSpeed() is a helper function for the component <Slowed> that takes a frame number and a speed
const remapSpeed = ({
  frame,
  speed,
}: {
  frame: number;
  speed: (fr: number) => number;
}) => {
  let framesPassed = 0;
  for (let i = 0; i <= frame; i++) {
    framesPassed += speed(i);
  }

  return framesPassed;
};

export const Slowed: React.FC<{
  children: React.ReactNode;
}> = ({ children }) => {
  const frame = useCurrentFrame();
  const remappedFrame = remapSpeed({
    frame,
    speed: (f) =>
      interpolate(f, [0, 20, 21], [1.5, 1.5, 0.5], {
        extrapolateRight: "clamp",
      }),
  });

  return <Freeze frame={remappedFrame}>{children}</Freeze>;
};
```

åœ¨ä¸»ç»„ä»¶ä¸­ï¼Œå°†æ‰€æœ‰ç§»åŠ¨çš„ç‚¹ã€å¿ƒå½¢å’Œæ˜Ÿæ˜ŸåŒ…è£…åœ¨ç»„ä»¶ `<Slowed>` ä¸­ã€‚æ­£å¦‚ä½ ç°åœ¨è‚¯å®šå·²ç»æ³¨æ„åˆ°çš„é‚£æ ·ï¼Œä¸€åˆ‡éƒ½æ˜¯éå¸¸å¯ç»„åˆçš„:

```tsx twoslash title="src/Composition.tsx"
// @filename: Move.tsx
export const Move: React.FC<{
  children: React.ReactNode;
  delay: number;
}> = () => null;
// @filename: Shrinking.tsx
export const Shrinking: React.FC<{
  children: React.ReactNode;
}> = () => null;
// @filename: Stars.tsx
export const Stars: React.FC<{}> = () => null;
// @filename: Background.tsx
export const Background: React.FC<{}> = () => null;
// @filename: Dots.tsx
export const Dots: React.FC<{}> = () => null;
// @filename: RedHearts.tsx
export const RedHearts: React.FC<{}> = () => null;
// @filename: YellowHearts.tsx
export const YellowHearts: React.FC<{}> = () => null;
// @filename: SlowedTrail.tsx
export const Slowed: React.FC<{
  children: React.ReactNode;
}> = () => null;

// @filename: MyComposition.tsx
// ---cut---
import React from "react";
import { AbsoluteFill } from "remotion";
import { Background } from "./Background";
import { Dots } from "./Dots";
import { RedHearts } from "./RedHearts";
import { Slowed } from "./SlowedTrail";
import { Stars } from "./Stars";
import { YellowHearts } from "./YellowHearts";

export const MyComposition = () => {
  return (
    <AbsoluteFill>
      <Background />
      <Slowed>
        <Dots />
        <RedHearts />
        <YellowHearts />
        <Stars />
      </Slowed>
    </AbsoluteFill>
  );
};
```

ä½ çš„æœ€ç»ˆçƒŸèŠ±åº”è¯¥æ˜¯è¿™æ ·çš„:
<img src="/img/apple-wow-tutorial/Slowed.gif"/>

## æ·»åŠ ä½ çš„ Animoji

ä½œä¸ºæœ¬æ•™ç¨‹çš„æœ€åä¸€æ­¥ï¼Œæˆ‘ä»¬å°†åœ¨çƒŸèŠ±ä¸Šæ·»åŠ ä½ çš„ Animojiã€‚å¯¹äº Animojiï¼Œä½ éœ€è¦æ‹¥æœ‰ä¸€éƒ¨ iPhone å’Œä¸€å° Macã€‚è¿™æ˜¯å¦‚ä½•åšåˆ°çš„: åœ¨ iMessage ä¸­çš„ iPhone ä¸Šï¼Œå½•åˆ¶ä¸€ä¸ª Animoji å¹¶å°†å…¶å‘é€ç»™æœ‹å‹ã€‚å®Œæˆåï¼Œå®ƒä¹Ÿä¼šå‡ºç°åœ¨ Mac ä¸Šçš„ Messages åº”ç”¨ä¸­ã€‚é€šè¿‡å³é”®å•å‡»åœ¨é‚£é‡Œä¸‹è½½ä½ çš„ Animojiã€‚å®Œæˆåï¼Œåˆ›å»ºä½ çš„ Animoji çš„é€æ˜ç‰ˆæœ¬ã€‚åªéœ€æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œ:

1. å³é”®å•å‡»ä¸‹è½½çš„ Animoji
2. é€‰æ‹© "Services"
3. é€‰æ‹© "Encode Selected Video Files"
4. åœ¨è®¾ç½®ä¸‹æ‹‰èœå•ä¸­é€‰æ‹© "Apple ProRes"
5. é€‰ä¸­ "Preserve Transparency" å¤é€‰æ¡†ã€‚

å°†åˆ›å»ºä¸€ä¸ªæ–°çš„ç¼–ç æ–‡ä»¶ï¼Œç»™å®ƒä¸€ä¸ªç®€å•çš„åç§°ï¼Œæ¯”å¦‚ animoji.movã€‚

é™¤äº† Remotion é¡¹ç›®ä¸­çš„ `src` æ–‡ä»¶å¤¹å¤–ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º `public` çš„æ–°æ–‡ä»¶å¤¹ã€‚å°†ç¼–ç åçš„è§†é¢‘æ”¾å…¥æ­¤æ–‡ä»¶å¤¹ã€‚ç„¶åï¼Œä½ å¯ä»¥ä½¿ç”¨ FFmpeg å°†ç¼–ç åçš„è§†é¢‘è½¬æ¢ä¸ºä¸€ç³»åˆ—å¸§:

1. å°†å½“å‰å·¥ä½œç›®å½•æ›´æ”¹ä¸º `public`: `cd public`

2. ä½¿ç”¨æ­¤å‘½ä»¤: `ffmpeg -i animoji.mov -pix_fmt rgba -start_number 0 frame%03d.png`
